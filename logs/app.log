2025-12-07 10:21:23 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Starting BookSocialApplication using Java 17.0.12 with PID 16784 (C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy\target\classes started by LENOVO in C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy)
2025-12-07 10:21:23 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - No active profile set, falling back to 1 default profile: "default"
2025-12-07 10:21:23 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls [user:] - The Class-Path manifest attribute in C:\Users\LENOVO\.m2\repository\io\github\cdimascio\java-dotenv\5.2.2\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/kotlin-stdlib-1.4.0.jar,file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/annotations-13.0.jar
2025-12-07 10:21:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [user:] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-07 10:21:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [user:] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-07 10:21:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-07 10:21:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Finished Spring Data repository scanning in 209 ms. Found 27 JPA repository interfaces.
2025-12-07 10:21:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat initialized with port 8181 (http)
2025-12-07 10:21:26 [restartedMain] INFO  o.a.catalina.core.StandardService [user:] - Starting service [Tomcat]
2025-12-07 10:21:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine [user:] - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-12-07 10:21:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring embedded WebApplicationContext
2025-12-07 10:21:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext [user:] - Root WebApplicationContext: initialization completed in 3397 ms
2025-12-07 10:21:27 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper [user:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-07 10:21:27 [restartedMain] INFO  org.hibernate.Version [user:] - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-12-07 10:21:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator [user:] - HHH000026: Second-level cache disabled
2025-12-07 10:21:28 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo [user:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-07 10:21:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Starting...
2025-12-07 10:21:28 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool [user:] - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a019b5d
2025-12-07 10:21:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Start completed.
2025-12-07 10:21:28 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-07 10:21:28 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-12-07 10:21:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [user:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-07 10:21:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 10:21:31 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory [user:] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-07 10:21:31 [restartedMain] DEBUG com.nix.config.JwtValidator [user:] - Filter 'jwtValidator' configured for use
2025-12-07 10:21:34 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [user:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-07 10:21:34 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [user:] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-12-07 10:21:34 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver [user:] - Exposing 2 endpoints beneath base path '/actuator'
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AdminController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthorDashboardController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.BookController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CategoryController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChapterController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChatController:
	{[MESSAGE],[/chat/{groupId}]}: sendToUser(MessageDTO,String)
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CommentController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CreditPackageController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ImageController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.LogController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.NotificationController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PaymentController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PostController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ProgressController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PurchaseController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RatingController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ReportController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RoleController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.SensitiveWordController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.TagController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.UserController:
	
2025-12-07 10:21:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-12-07 10:21:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer [user:] - LiveReload server is running on port 35729
2025-12-07 10:21:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat started on port 8181 (http) with context path '/'
2025-12-07 10:21:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 10:21:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 10:21:35 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Starting...
2025-12-07 10:21:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5a47e0d0]
2025-12-07 10:21:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5a47e0d0]
2025-12-07 10:21:35 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5a47e0d0]]
2025-12-07 10:21:35 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Started.
2025-12-07 10:21:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 10:21:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 10:21:35 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Started BookSocialApplication in 12.753 seconds (process running for 13.349)
2025-12-07 10:22:35 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats [user:] - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-12-07 10:24:48 [http-nio-8181-exec-10] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-07 10:24:48 [http-nio-8181-exec-10] INFO  o.s.web.servlet.DispatcherServlet [user:] - Initializing Servlet 'dispatcherServlet'
2025-12-07 10:24:48 [http-nio-8181-exec-10] INFO  o.s.web.servlet.DispatcherServlet [user:] - Completed initialization in 10 ms
2025-12-07 10:24:48 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed CategoryController.getAllCategories
2025-12-07 10:24:48 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed TagController.getAllTags
2025-12-07 10:24:48 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed BookController.getTop10BooksByLikes
2025-12-07 10:24:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed BookController.getFeaturedBooks
2025-12-07 10:24:48 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed BookController.getLatestUpdateBooks
2025-12-07 10:24:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed BookController.getFeaturedBooks
2025-12-07 10:24:48 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed TagController.getAllTags
2025-12-07 10:24:48 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed BookController.getLatestUpdateBooks
2025-12-07 10:24:48 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed BookController.getTop10BooksByLikes
2025-12-07 10:24:48 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed CategoryController.getAllCategories
2025-12-07 10:26:32 [http-nio-8181-exec-10] DEBUG c.n.config.AuthRateLimitInterceptor [user:] - Using remote address: 0:0:0:0:0:0:0:1
2025-12-07 10:26:32 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed AuthController.login
2025-12-07 10:26:32 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed AuthController.login
2025-12-07 10:26:33 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 10:26:33 [http-nio-8181-exec-5] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:26:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 10:26:33 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:33 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:33 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:26:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:26:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:26:33 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:26:33 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:26:33 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:26:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:26:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:26:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:26:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:26:33 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765077993457
2025-12-07 10:26:33 [http-nio-8181-exec-7] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier [user:] - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-12-07 10:26:33 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:33 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:33 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:26:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:26:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:26:33 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:26:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:26:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:26:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:26:34 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:26:34 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/356/km31vvi5/websocket
2025-12-07 10:26:34 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=km31vvi5]
2025-12-07 10:26:34 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=km31vvi5
2025-12-07 10:26:34 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=km31vvi5
2025-12-07 10:26:36 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:36 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:26:36 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:26:36 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:26:36 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765077996564
2025-12-07 10:26:36 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:26:36 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:26:36 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765077996564
2025-12-07 10:26:36 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:36 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:26:36 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:26:36 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:26:36 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:26:36 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:26:36 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:26:36 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/847/5pdmp4vm/websocket
2025-12-07 10:26:36 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=5pdmp4vm]
2025-12-07 10:26:36 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=5pdmp4vm
2025-12-07 10:26:36 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:26:36 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:26:36 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=5pdmp4vm
2025-12-07 10:26:52 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed CategoryController.getAllCategories
2025-12-07 10:26:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed TagController.getAllTags
2025-12-07 10:26:52 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed BookController.getLatestUpdateBooks
2025-12-07 10:26:52 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed BookController.getFeaturedBooks
2025-12-07 10:26:52 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed BookController.getTop10BooksByLikes
2025-12-07 10:26:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed TagController.getAllTags
2025-12-07 10:26:52 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed BookController.getFeaturedBooks
2025-12-07 10:26:52 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed BookController.getLatestUpdateBooks
2025-12-07 10:26:52 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed BookController.getTop10BooksByLikes
2025-12-07 10:26:52 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed CategoryController.getAllCategories
2025-12-07 10:26:52 [http-nio-8181-exec-11] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 10:26:57 [http-nio-8181-exec-8] DEBUG c.n.config.AuthRateLimitInterceptor [user:] - Using remote address: 0:0:0:0:0:0:0:1
2025-12-07 10:26:57 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed AuthController.login
2025-12-07 10:26:57 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed AuthController.login
2025-12-07 10:26:57 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:26:57 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:26:57 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:26:57 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:26:58 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:26:58 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:26:58 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:26:58 [http-nio-8181-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 10:26:58 [http-nio-8181-exec-12] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:26:58 [http-nio-8181-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 10:26:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:26:58 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:26:58 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078018249
2025-12-07 10:26:58 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:26:58 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:26:58 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:26:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:26:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:26:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:26:58 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:26:58 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:26:58 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:26:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:26:58 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/199/jbwjy4zu/websocket
2025-12-07 10:26:58 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:26:58 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=jbwjy4zu]
2025-12-07 10:26:58 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:26:58 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:26:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:26:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:26:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:26:58 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:26:58 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:26:58 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:26:58 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=jbwjy4zu
2025-12-07 10:26:58 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=jbwjy4zu
2025-12-07 10:27:00 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:27:00 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:27:00 [http-nio-8181-exec-12] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:27:00 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:27:00 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:27:00 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078020685
2025-12-07 10:27:00 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:27:00 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:27:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:27:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:27:00 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:27:00 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:27:00 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078020685
2025-12-07 10:27:00 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:27:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:27:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:27:00 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:27:00 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/552/yrz5aitl/websocket
2025-12-07 10:27:00 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=yrz5aitl]
2025-12-07 10:27:00 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=yrz5aitl
2025-12-07 10:27:00 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=yrz5aitl
2025-12-07 10:27:04 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=yrz5aitl
2025-12-07 10:27:04 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=yrz5aitl
2025-12-07 10:27:04 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:27:04 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:27:04 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:27:04 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=yrz5aitl] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:27:04 [http-nio-8181-exec-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session yrz5aitl
2025-12-07 10:27:04 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=yrz5aitl
2025-12-07 10:27:04 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=yrz5aitl}], simpSessionId=yrz5aitl}]
2025-12-07 10:27:06 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:27:06 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.createMessage
2025-12-07 10:27:06 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.createMessage
2025-12-07 10:27:06 [ws-task-scheduler-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=5pdmp4vm, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 10:27:06 [ws-task-scheduler-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 10:27:06 [ws-task-scheduler-9] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 10:27:06 [ws-task-scheduler-9] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 10:27:06 [ws-task-scheduler-9] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='Wat', senderId=6908d006-9969-4398-8a14-443ec19da5f3, receiverId=6908d006-9969-4398-8a14-443ec19da5f3}
2025-12-07 10:27:06 [ws-task-scheduler-9] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 10:27:06 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"6908d...(truncated)
2025-12-07 10:27:06 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 1 sessions.
2025-12-07 10:27:06 [ws-task-scheduler-9] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 10:27:06 [ws-task-scheduler-9] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 10:27:09 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:27:09 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:27:09 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:27:09 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:27:09 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:27:09 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:27:09 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078029381
2025-12-07 10:27:09 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078029382
2025-12-07 10:27:09 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:27:09 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:27:09 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:27:09 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:27:09 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:27:09 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:27:09 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/903/gcibixab/websocket
2025-12-07 10:27:09 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:27:09 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:27:09 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=gcibixab]
2025-12-07 10:27:09 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:27:09 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=gcibixab
2025-12-07 10:27:09 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=gcibixab
2025-12-07 10:27:12 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:27:12 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 10:27:12 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 10:27:12 [ws-task-scheduler-8] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=gcibixab, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 10:27:12 [ws-task-scheduler-8] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 10:27:12 [ws-task-scheduler-8] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 10:27:12 [ws-task-scheduler-8] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 10:27:12 [ws-task-scheduler-8] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='Hug', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 10:27:12 [ws-task-scheduler-8] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 10:27:12 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 10:27:12 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 10:27:12 [ws-task-scheduler-8] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 10:27:12 [ws-task-scheduler-8] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 10:27:14 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [yrz5aitl]
2025-12-07 10:27:26 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:27:26 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ImageController.uploadImage
2025-12-07 10:27:26 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ImageController.uploadImage
2025-12-07 10:28:22 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:28:22 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:28:22 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:28:22 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:28:22 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:28:22 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:28:22 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:28:22 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:28:22 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:28:22 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:28:22 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:28:22 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:28:22 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:28:22 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:29:22 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=gcibixab
2025-12-07 10:29:22 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=gcibixab
2025-12-07 10:29:22 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=gcibixab] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:29:22 [http-nio-8181-exec-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session gcibixab
2025-12-07 10:29:22 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=gcibixab
2025-12-07 10:29:22 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, nativeHeaders={receipt=[close-1]}, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpHeartbeat=[J@6bf6be54, simpSessionId=gcibixab}], simpSessionId=gcibixab}]
2025-12-07 10:29:22 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=gcibixab}], simpSessionId=gcibixab}]
2025-12-07 10:29:22 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=5pdmp4vm
2025-12-07 10:29:22 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=5pdmp4vm
2025-12-07 10:29:22 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=5pdmp4vm] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:29:22 [http-nio-8181-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 5pdmp4vm
2025-12-07 10:29:22 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=5pdmp4vm
2025-12-07 10:29:22 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=5pdmp4vm}], simpSessionId=5pdmp4vm}]
2025-12-07 10:29:22 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:29:22 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:29:22 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:29:22 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:29:22 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:29:22 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:29:22 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:29:22 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:29:22 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:22 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078162444
2025-12-07 10:29:22 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:29:22 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:29:22 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:29:22 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:29:22 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:29:22 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:29:22 [http-nio-8181-exec-12] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:29:22 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:29:22 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:22 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/087/egtz42nb/websocket
2025-12-07 10:29:22 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=egtz42nb]
2025-12-07 10:29:22 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:22 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078162528
2025-12-07 10:29:22 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=egtz42nb
2025-12-07 10:29:22 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=egtz42nb
2025-12-07 10:29:22 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:22 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/983/o5jeprav/websocket
2025-12-07 10:29:22 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=o5jeprav]
2025-12-07 10:29:22 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=o5jeprav
2025-12-07 10:29:22 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=o5jeprav
2025-12-07 10:29:22 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=egtz42nb
2025-12-07 10:29:22 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=egtz42nb
2025-12-07 10:29:22 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=o5jeprav
2025-12-07 10:29:22 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=o5jeprav
2025-12-07 10:29:25 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:29:25 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ImageController.uploadImage
2025-12-07 10:29:25 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ImageController.uploadImage
2025-12-07 10:29:29 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [gcibixab, 5pdmp4vm]
2025-12-07 10:29:48 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=egtz42nb
2025-12-07 10:29:48 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=egtz42nb
2025-12-07 10:29:48 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=egtz42nb] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:29:48 [http-nio-8181-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session egtz42nb
2025-12-07 10:29:48 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=egtz42nb
2025-12-07 10:29:48 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=egtz42nb}], simpSessionId=egtz42nb}]
2025-12-07 10:29:48 [ws-task-scheduler-1] DEBUG o.s.w.s.m.StompSubProtocolHandler [user:] - Failed to send WebSocket message to client in session egtz42nb
java.lang.IllegalStateException: Cannot send a message when session is closed
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.sendMessage(AbstractSockJsSession.java:144)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.tryFlushMessageBuffer(ConcurrentWebSocketSessionDecorator.java:190)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(ConcurrentWebSocketSessionDecorator.java:163)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.sendToClient(StompSubProtocolHandler.java:529)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageToClient(StompSubProtocolHandler.java:516)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:386)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-12-07 10:29:48 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=o5jeprav
2025-12-07 10:29:48 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=o5jeprav
2025-12-07 10:29:48 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=o5jeprav] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:29:48 [http-nio-8181-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session o5jeprav
2025-12-07 10:29:48 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=o5jeprav
2025-12-07 10:29:48 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=o5jeprav}], simpSessionId=o5jeprav}]
2025-12-07 10:29:48 [ws-task-scheduler-4] DEBUG o.s.w.s.m.StompSubProtocolHandler [user:] - Failed to send WebSocket message to client in session o5jeprav
java.lang.IllegalStateException: Cannot send a message when session is closed
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.sendMessage(AbstractSockJsSession.java:144)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.tryFlushMessageBuffer(ConcurrentWebSocketSessionDecorator.java:190)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(ConcurrentWebSocketSessionDecorator.java:163)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.sendToClient(StompSubProtocolHandler.java:529)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageToClient(StompSubProtocolHandler.java:516)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:386)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-12-07 10:29:48 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:29:48 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:29:48 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:29:48 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:29:48 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:29:48 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:29:48 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:29:48 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:29:48 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:29:48 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:29:48 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:29:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:29:48 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:48 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078188421
2025-12-07 10:29:48 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:29:48 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:29:48 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:29:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:29:48 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:48 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/472/1ytgxedr/websocket
2025-12-07 10:29:48 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=1ytgxedr]
2025-12-07 10:29:48 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=1ytgxedr
2025-12-07 10:29:48 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:48 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078188467
2025-12-07 10:29:48 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=1ytgxedr
2025-12-07 10:29:48 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:48 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/975/bnhion42/websocket
2025-12-07 10:29:48 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=bnhion42]
2025-12-07 10:29:48 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=bnhion42
2025-12-07 10:29:48 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=bnhion42
2025-12-07 10:29:48 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=1ytgxedr
2025-12-07 10:29:48 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=1ytgxedr
2025-12-07 10:29:48 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=bnhion42
2025-12-07 10:29:48 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=bnhion42
2025-12-07 10:29:54 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [egtz42nb, o5jeprav]
2025-12-07 10:29:55 [ws-task-scheduler-5] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session km31vvi5 with CloseStatus[code=1002, reason=null]
2025-12-07 10:29:55 [ws-task-scheduler-5] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=00004adf-ec5f-0e5f-9127-ae46848e77dc, uri=ws://localhost:8181/ws/356/km31vvi5/websocket]
2025-12-07 10:29:55 [ws-task-scheduler-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=km31vvi5] closed with CloseStatus[code=1002, reason=null]
2025-12-07 10:29:55 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session km31vvi5
2025-12-07 10:29:55 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=km31vvi5
2025-12-07 10:29:55 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=km31vvi5}], simpSessionId=km31vvi5}]
2025-12-07 10:29:59 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=1ytgxedr
2025-12-07 10:29:59 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=1ytgxedr] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:29:59 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=1ytgxedr
2025-12-07 10:29:59 [http-nio-8181-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 1ytgxedr
2025-12-07 10:29:59 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=1ytgxedr
2025-12-07 10:29:59 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=1ytgxedr}], simpSessionId=1ytgxedr}]
2025-12-07 10:29:59 [ws-task-scheduler-8] DEBUG o.s.w.s.m.StompSubProtocolHandler [user:] - Failed to send WebSocket message to client in session 1ytgxedr
java.lang.IllegalStateException: Cannot send a message when session is closed
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.sendMessage(AbstractSockJsSession.java:144)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.tryFlushMessageBuffer(ConcurrentWebSocketSessionDecorator.java:190)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(ConcurrentWebSocketSessionDecorator.java:163)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.sendToClient(StompSubProtocolHandler.java:529)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageToClient(StompSubProtocolHandler.java:516)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:386)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-12-07 10:29:59 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:29:59 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:29:59 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:29:59 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:29:59 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:29:59 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:59 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078199146
2025-12-07 10:29:59 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:29:59 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:29:59 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:29:59 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:59 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/453/mtcd1ysy/websocket
2025-12-07 10:29:59 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=mtcd1ysy]
2025-12-07 10:29:59 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=mtcd1ysy
2025-12-07 10:29:59 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=mtcd1ysy
2025-12-07 10:29:59 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=mtcd1ysy
2025-12-07 10:29:59 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=mtcd1ysy
2025-12-07 10:29:59 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=bnhion42
2025-12-07 10:29:59 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=bnhion42
2025-12-07 10:29:59 [http-nio-8181-exec-12] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=bnhion42] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:29:59 [http-nio-8181-exec-12] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session bnhion42
2025-12-07 10:29:59 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=bnhion42
2025-12-07 10:29:59 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=bnhion42}], simpSessionId=bnhion42}]
2025-12-07 10:29:59 [ws-task-scheduler-2] DEBUG o.s.w.s.m.StompSubProtocolHandler [user:] - Failed to send WebSocket message to client in session bnhion42
java.lang.IllegalStateException: Cannot send a message when session is closed
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.sendMessage(AbstractSockJsSession.java:144)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.tryFlushMessageBuffer(ConcurrentWebSocketSessionDecorator.java:190)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(ConcurrentWebSocketSessionDecorator.java:163)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.sendToClient(StompSubProtocolHandler.java:529)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageToClient(StompSubProtocolHandler.java:516)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:386)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-12-07 10:29:59 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:29:59 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:29:59 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:59 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078199425
2025-12-07 10:29:59 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:29:59 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:29:59 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:29:59 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:29:59 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:29:59 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:29:59 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:29:59 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/309/uh32tqmv/websocket
2025-12-07 10:29:59 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=uh32tqmv]
2025-12-07 10:29:59 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=uh32tqmv
2025-12-07 10:29:59 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=uh32tqmv
2025-12-07 10:29:59 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=uh32tqmv
2025-12-07 10:29:59 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=uh32tqmv
2025-12-07 10:30:00 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:30:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ImageController.uploadImage
2025-12-07 10:30:04 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [km31vvi5]
2025-12-07 10:30:04 [http-nio-8181-exec-7] DEBUG com.nix.service.ImageService [user:] - Processing image: contentType=image/jpeg, size=140899
2025-12-07 10:30:04 [http-nio-8181-exec-7] DEBUG com.nix.service.ImageService [user:] - Original image dimensions: 909x618
2025-12-07 10:30:04 [http-nio-8181-exec-7] DEBUG com.nix.service.ImageService [user:] - Converted image to RGB: 909x618
2025-12-07 10:30:04 [http-nio-8181-exec-7] DEBUG com.nix.service.ImageService [user:] - Final dimensions: 1588x1080
2025-12-07 10:30:04 [http-nio-8181-exec-7] DEBUG com.nix.service.ImageService [user:] - Calculated dimensions: 1588x1080
2025-12-07 10:30:05 [http-nio-8181-exec-7] DEBUG com.nix.service.ImageService [user:] - Image processed successfully, output size: 82332
2025-12-07 10:30:05 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ImageController.uploadImage
2025-12-07 10:30:05 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:30:05 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 10:30:05 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 10:30:05 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=mtcd1ysy, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 10:30:05 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 10:30:05 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 10:30:05 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 10:30:05 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='Cool?', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 10:30:05 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 10:30:05 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 10:30:05 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 10:30:05 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 10:30:05 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 10:30:09 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [1ytgxedr, bnhion42]
2025-12-07 10:31:04 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=mtcd1ysy
2025-12-07 10:31:04 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=mtcd1ysy
2025-12-07 10:31:04 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:04 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:31:04 [http-nio-8181-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 10:31:04 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:31:04 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=mtcd1ysy] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:31:04 [http-nio-8181-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session mtcd1ysy
2025-12-07 10:31:04 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=mtcd1ysy
2025-12-07 10:31:04 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=mtcd1ysy}], simpSessionId=mtcd1ysy}]
2025-12-07 10:31:14 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [mtcd1ysy]
2025-12-07 10:31:45 [ws-task-scheduler-10] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session uh32tqmv with CloseStatus[code=1002, reason=null]
2025-12-07 10:31:45 [ws-task-scheduler-10] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=91e4968b-57d4-e360-3cfc-e3518608c602, uri=ws://localhost:8181/ws/309/uh32tqmv/websocket]
2025-12-07 10:31:45 [ws-task-scheduler-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=uh32tqmv] closed with CloseStatus[code=1002, reason=null]
2025-12-07 10:31:45 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session uh32tqmv
2025-12-07 10:31:45 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=uh32tqmv
2025-12-07 10:31:45 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=uh32tqmv}], simpSessionId=uh32tqmv}]
2025-12-07 10:31:49 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:31:49 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078309350
2025-12-07 10:31:49 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:31:49 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/580/w5lpz1rg/websocket
2025-12-07 10:31:49 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=w5lpz1rg]
2025-12-07 10:31:49 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=w5lpz1rg
2025-12-07 10:31:49 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=w5lpz1rg
2025-12-07 10:31:49 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=w5lpz1rg
2025-12-07 10:31:49 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=w5lpz1rg
2025-12-07 10:31:51 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=jbwjy4zu] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:31:51 [http-nio-8181-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session jbwjy4zu
2025-12-07 10:31:51 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=jbwjy4zu
2025-12-07 10:31:51 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=jbwjy4zu}], simpSessionId=jbwjy4zu}]
2025-12-07 10:31:51 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=w5lpz1rg
2025-12-07 10:31:51 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=w5lpz1rg
2025-12-07 10:31:51 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=w5lpz1rg] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:31:51 [http-nio-8181-exec-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session w5lpz1rg
2025-12-07 10:31:51 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=w5lpz1rg
2025-12-07 10:31:51 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=w5lpz1rg}], simpSessionId=w5lpz1rg}]
2025-12-07 10:31:51 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:51 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:31:51 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:31:51 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078311531
2025-12-07 10:31:51 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:51 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:31:51 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:31:51 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:31:51 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:31:51 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:31:51 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:31:51 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/676/mnbfypve/websocket
2025-12-07 10:31:51 [http-nio-8181-exec-12] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=mnbfypve]
2025-12-07 10:31:51 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=mnbfypve
2025-12-07 10:31:51 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=mnbfypve
2025-12-07 10:31:51 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=mnbfypve
2025-12-07 10:31:51 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=mnbfypve
2025-12-07 10:31:52 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:52 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 10:31:52 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:52 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:52 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:31:52 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:52 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:52 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 10:31:52 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 10:31:52 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:31:52 [http-nio-8181-exec-12] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:31:52 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 10:31:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 10:31:52 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:31:52 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:31:52 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:52 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:31:52 [http-nio-8181-exec-4] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:31:52 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:31:52 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 10:31:52 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 10:31:52 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 10:31:53 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:53 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:53 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:53 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:31:53 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:31:53 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:53 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:31:53 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:31:53 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:31:53 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:31:53 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:31:53 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:31:53 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:53 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:31:53 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:53 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:31:53 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:31:53 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:31:53 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:31:53 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:31:53 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:31:53 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:31:53 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:31:53 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078313048
2025-12-07 10:31:53 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:31:53 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:31:53 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/571/xrgb4j4y/websocket
2025-12-07 10:31:53 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=xrgb4j4y]
2025-12-07 10:31:53 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=xrgb4j4y
2025-12-07 10:31:53 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=xrgb4j4y
2025-12-07 10:31:54 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [uh32tqmv]
2025-12-07 10:31:55 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=mnbfypve
2025-12-07 10:31:55 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=mnbfypve
2025-12-07 10:31:55 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:55 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:31:55 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:31:55 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=mnbfypve] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:31:55 [http-nio-8181-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session mnbfypve
2025-12-07 10:31:55 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=mnbfypve
2025-12-07 10:31:55 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=mnbfypve}], simpSessionId=mnbfypve}]
2025-12-07 10:31:57 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:57 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:31:57 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:57 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 10:31:57 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:31:57 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:57 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:57 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:57 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:57 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 10:31:57 [http-nio-8181-exec-2] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:31:57 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 10:31:57 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 10:31:57 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 10:31:57 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 10:31:57 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 10:31:57 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 10:31:57 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:57 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 10:31:57 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 10:31:57 [http-nio-8181-exec-12] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:31:57 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 10:31:57 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 10:31:58 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:58 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:58 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:58 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:31:58 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:58 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:31:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:31:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:31:58 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:31:58 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:31:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:31:58 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:31:58 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:58 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:31:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:31:58 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:58 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:31:58 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:31:58 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:31:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:31:58 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:31:58 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:31:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:31:58 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:31:58 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078318386
2025-12-07 10:31:58 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:31:58 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/495/mq4yxa0s/websocket
2025-12-07 10:31:58 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=mq4yxa0s]
2025-12-07 10:31:59 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [w5lpz1rg, jbwjy4zu]
2025-12-07 10:31:59 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=mq4yxa0s
2025-12-07 10:31:59 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=mq4yxa0s
2025-12-07 10:32:00 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:32:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:32:00 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:32:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:32:00 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:32:00 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:32:00 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078320849
2025-12-07 10:32:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:32:00 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:32:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:32:00 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:32:00 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078320849
2025-12-07 10:32:00 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:32:00 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:32:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:32:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:32:00 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:32:00 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/474/glstueal/websocket
2025-12-07 10:32:00 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=glstueal]
2025-12-07 10:32:00 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=glstueal
2025-12-07 10:32:00 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=glstueal
2025-12-07 10:32:04 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [mnbfypve]
2025-12-07 10:32:08 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:32:08 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:32:08 [http-nio-8181-exec-12] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:32:08 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:32:08 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:32:08 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078328763
2025-12-07 10:32:08 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:32:08 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:32:08 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:32:08 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:32:08 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:32:08 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078328763
2025-12-07 10:32:08 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:32:08 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:32:08 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:32:08 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:32:08 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:32:08 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/006/251dge42/websocket
2025-12-07 10:32:08 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=251dge42]
2025-12-07 10:32:08 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=251dge42
2025-12-07 10:32:08 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=251dge42
2025-12-07 10:32:13 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:32:13 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 10:32:13 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 10:32:13 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=251dge42, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 10:32:13 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 10:32:13 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 10:32:13 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 10:32:13 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 10:32:13 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 10:32:13 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 10:32:13 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 10:32:13 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 10:32:13 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 10:32:18 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=251dge42
2025-12-07 10:32:18 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=251dge42
2025-12-07 10:32:18 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=251dge42] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:32:18 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:32:18 [http-nio-8181-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 251dge42
2025-12-07 10:32:18 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:32:18 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=251dge42
2025-12-07 10:32:18 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=251dge42}], simpSessionId=251dge42}]
2025-12-07 10:32:18 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:32:18 [http-nio-8181-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 10:32:22 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:32:22 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:32:22 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:32:22 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:32:22 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:32:22 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:32:22 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078342484
2025-12-07 10:32:22 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:32:22 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:32:22 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:32:22 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:32:22 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:32:22 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078342484
2025-12-07 10:32:22 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:32:22 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:32:22 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:32:22 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:32:22 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/689/i3zvhntu/websocket
2025-12-07 10:32:22 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=i3zvhntu]
2025-12-07 10:32:22 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=i3zvhntu
2025-12-07 10:32:22 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=i3zvhntu
2025-12-07 10:32:24 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [251dge42]
2025-12-07 10:32:25 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=i3zvhntu
2025-12-07 10:32:25 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=i3zvhntu
2025-12-07 10:32:25 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:32:25 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:32:25 [http-nio-8181-exec-12] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:32:25 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:32:30 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=glstueal
2025-12-07 10:32:30 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=glstueal
2025-12-07 10:32:30 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:32:30 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:32:30 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:32:30 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:33:52 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=glstueal
2025-12-07 10:33:52 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=glstueal
2025-12-07 10:33:52 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=glstueal] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:33:52 [http-nio-8181-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session glstueal
2025-12-07 10:33:52 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=glstueal
2025-12-07 10:33:52 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=glstueal}], simpSessionId=glstueal}]
2025-12-07 10:33:52 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:33:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:33:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:33:59 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [glstueal]
2025-12-07 10:34:05 [ws-task-scheduler-1] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session xrgb4j4y with CloseStatus[code=1002, reason=null]
2025-12-07 10:34:05 [ws-task-scheduler-10] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session i3zvhntu with CloseStatus[code=1002, reason=null]
2025-12-07 10:34:05 [ws-task-scheduler-1] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=95db9751-4fe0-c73b-4140-29ba0cd3506d, uri=ws://localhost:8181/ws/571/xrgb4j4y/websocket]
2025-12-07 10:34:05 [ws-task-scheduler-10] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=44b32049-40a5-cbd9-79aa-b13763ca6deb, uri=ws://localhost:8181/ws/689/i3zvhntu/websocket]
2025-12-07 10:34:05 [ws-task-scheduler-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=xrgb4j4y] closed with CloseStatus[code=1002, reason=null]
2025-12-07 10:34:05 [ws-task-scheduler-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=i3zvhntu] closed with CloseStatus[code=1002, reason=null]
2025-12-07 10:34:05 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session xrgb4j4y
2025-12-07 10:34:05 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session i3zvhntu
2025-12-07 10:34:05 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=xrgb4j4y
2025-12-07 10:34:05 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=i3zvhntu
2025-12-07 10:34:05 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xrgb4j4y}], simpSessionId=xrgb4j4y}]
2025-12-07 10:34:05 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=i3zvhntu}], simpSessionId=i3zvhntu}]
2025-12-07 10:34:09 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:34:09 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078449346
2025-12-07 10:34:09 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:34:09 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/533/nm1tnq2j/websocket
2025-12-07 10:34:09 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=nm1tnq2j]
2025-12-07 10:34:09 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=nm1tnq2j
2025-12-07 10:34:09 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=nm1tnq2j
2025-12-07 10:34:14 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [xrgb4j4y, i3zvhntu]
2025-12-07 10:34:22 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:34:22 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:34:22 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:34:22 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:34:22 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:34:22 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:34:22 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:34:22 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:34:42 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=nm1tnq2j
2025-12-07 10:34:42 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=nm1tnq2j
2025-12-07 10:34:42 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=nm1tnq2j] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:34:42 [http-nio-8181-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session nm1tnq2j
2025-12-07 10:34:42 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=nm1tnq2j
2025-12-07 10:34:42 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=nm1tnq2j}], simpSessionId=nm1tnq2j}]
2025-12-07 10:34:42 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:34:42 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:34:42 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:34:42 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:34:42 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:34:42 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078482463
2025-12-07 10:34:42 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:34:42 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:34:42 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:34:42 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:34:42 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:34:42 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/439/53iaa1r2/websocket
2025-12-07 10:34:42 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=53iaa1r2]
2025-12-07 10:34:42 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=53iaa1r2
2025-12-07 10:34:42 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=53iaa1r2
2025-12-07 10:34:42 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=53iaa1r2
2025-12-07 10:34:42 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=53iaa1r2
2025-12-07 10:34:49 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [nm1tnq2j]
2025-12-07 10:35:01 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=53iaa1r2
2025-12-07 10:35:01 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=53iaa1r2
2025-12-07 10:35:01 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=53iaa1r2] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:35:01 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:35:01 [http-nio-8181-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 53iaa1r2
2025-12-07 10:35:01 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:35:01 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=53iaa1r2
2025-12-07 10:35:01 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=53iaa1r2}], simpSessionId=53iaa1r2}]
2025-12-07 10:35:01 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:35:01 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078501353
2025-12-07 10:35:01 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:35:01 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:35:01 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:35:01 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:35:01 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078501353
2025-12-07 10:35:01 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:35:01 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:35:01 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:35:01 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:35:01 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/348/vsf14fak/websocket
2025-12-07 10:35:01 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:35:01 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=vsf14fak]
2025-12-07 10:35:01 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:35:01 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:35:01 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=vsf14fak
2025-12-07 10:35:01 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:35:01 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=vsf14fak
2025-12-07 10:35:09 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [53iaa1r2]
2025-12-07 10:35:25 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=vsf14fak
2025-12-07 10:35:25 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=vsf14fak
2025-12-07 10:35:25 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=vsf14fak] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:35:25 [http-nio-8181-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session vsf14fak
2025-12-07 10:35:25 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=vsf14fak
2025-12-07 10:35:25 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=vsf14fak}], simpSessionId=vsf14fak}]
2025-12-07 10:35:25 [ws-task-scheduler-8] DEBUG o.s.w.s.m.StompSubProtocolHandler [user:] - Failed to send WebSocket message to client in session vsf14fak
java.lang.IllegalStateException: Cannot send a message when session is closed
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.sendMessage(AbstractSockJsSession.java:144)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.tryFlushMessageBuffer(ConcurrentWebSocketSessionDecorator.java:190)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(ConcurrentWebSocketSessionDecorator.java:163)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.sendToClient(StompSubProtocolHandler.java:529)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageToClient(StompSubProtocolHandler.java:516)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:386)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-12-07 10:35:25 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:35:25 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:35:25 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:35:25 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:35:25 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:35:25 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:35:25 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:35:25 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078525411
2025-12-07 10:35:25 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:35:25 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:35:25 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:35:25 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/251/gzszlvl2/websocket
2025-12-07 10:35:25 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=gzszlvl2]
2025-12-07 10:35:25 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=gzszlvl2
2025-12-07 10:35:25 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=gzszlvl2
2025-12-07 10:35:25 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=gzszlvl2
2025-12-07 10:35:25 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=gzszlvl2
2025-12-07 10:35:34 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [vsf14fak]
2025-12-07 10:35:46 [ws-task-scheduler-6] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session mq4yxa0s with CloseStatus[code=1002, reason=null]
2025-12-07 10:35:46 [ws-task-scheduler-6] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=5fa8c7be-cbbf-960b-1dd9-7d9250c23b3b, uri=ws://localhost:8181/ws/495/mq4yxa0s/websocket]
2025-12-07 10:35:46 [ws-task-scheduler-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=mq4yxa0s] closed with CloseStatus[code=1002, reason=null]
2025-12-07 10:35:46 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session mq4yxa0s
2025-12-07 10:35:46 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=mq4yxa0s
2025-12-07 10:35:46 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=mq4yxa0s}], simpSessionId=mq4yxa0s}]
2025-12-07 10:35:54 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [mq4yxa0s]
2025-12-07 10:36:52 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=gzszlvl2] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:36:52 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session gzszlvl2
2025-12-07 10:36:52 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=gzszlvl2
2025-12-07 10:36:52 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=gzszlvl2}], simpSessionId=gzszlvl2}]
2025-12-07 10:36:53 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 10:36:53 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 10:36:53 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:36:53 [http-nio-8181-exec-5] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:36:53 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 10:36:53 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:36:53 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:36:53 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:36:53 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:36:53 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 10:36:53 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:36:53 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:36:53 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 10:36:53 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:36:53 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:36:53 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 10:36:53 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:36:53 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:36:53 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:36:53 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:36:53 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 10:36:53 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:36:53 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:36:53 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:36:53 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:36:53 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:36:53 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 10:36:53 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 10:36:53 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:36:53 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 10:36:53 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:36:53 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:36:53 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:53 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:36:53 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:36:53 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:36:53 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078613662
2025-12-07 10:36:54 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:54 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:54 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:36:54 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:36:54 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:36:54 [http-nio-8181-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 10:36:54 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:36:54 [http-nio-8181-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 10:36:54 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:36:54 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:54 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:36:54 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:36:54 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:54 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:36:54 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:36:54 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:36:54 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:36:54 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/511/uhukyh4u/websocket
2025-12-07 10:36:54 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=uhukyh4u]
2025-12-07 10:36:54 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=uhukyh4u
2025-12-07 10:36:54 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=uhukyh4u
2025-12-07 10:36:56 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:56 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:36:56 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:36:56 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:36:56 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:56 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:36:56 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:36:56 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:36:56 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:36:56 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:36:56 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:36:56 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:36:56 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:36:56 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:36:56 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078616848
2025-12-07 10:36:56 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078616847
2025-12-07 10:36:56 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:36:56 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/059/gjtpv3y2/websocket
2025-12-07 10:36:56 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=gjtpv3y2]
2025-12-07 10:36:56 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=gjtpv3y2
2025-12-07 10:36:56 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=gjtpv3y2
2025-12-07 10:36:59 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [gzszlvl2]
2025-12-07 10:37:03 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=gjtpv3y2
2025-12-07 10:37:03 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=gjtpv3y2
2025-12-07 10:37:03 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:03 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:37:03 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:37:03 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:37:04 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=gjtpv3y2] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:37:04 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session gjtpv3y2
2025-12-07 10:37:04 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=gjtpv3y2
2025-12-07 10:37:04 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=gjtpv3y2}], simpSessionId=gjtpv3y2}]
2025-12-07 10:37:04 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=uhukyh4u] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:37:04 [http-nio-8181-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session uhukyh4u
2025-12-07 10:37:04 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=uhukyh4u
2025-12-07 10:37:04 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=uhukyh4u}], simpSessionId=uhukyh4u}]
2025-12-07 10:37:05 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:37:05 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 10:37:05 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 10:37:05 [http-nio-8181-exec-10] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:37:05 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 10:37:05 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:37:05 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:37:05 [http-nio-8181-exec-11] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:37:05 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:37:05 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 10:37:05 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:37:05 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:37:05 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:37:05 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:37:05 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 10:37:05 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:37:05 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:37:05 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 10:37:05 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:37:05 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:37:05 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 10:37:05 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:37:05 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:37:05 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:37:05 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 10:37:05 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:37:05 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:37:05 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:37:05 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 10:37:05 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 10:37:05 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:37:05 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:37:05 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:37:05 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078625399
2025-12-07 10:37:05 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:37:05 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:37:05 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:37:05 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:37:05 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:37:05 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:37:05 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:37:05 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:37:05 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:05 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:37:05 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:37:05 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:37:05 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/783/3f3dkoqs/websocket
2025-12-07 10:37:05 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=3f3dkoqs]
2025-12-07 10:37:06 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=3f3dkoqs
2025-12-07 10:37:06 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=3f3dkoqs
2025-12-07 10:37:07 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:07 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:37:07 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:37:07 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:37:07 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:07 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:37:07 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:37:07 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:37:07 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:37:07 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:37:07 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078627897
2025-12-07 10:37:07 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078627898
2025-12-07 10:37:07 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:37:07 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:37:07 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:37:07 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:37:07 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:37:07 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/660/05bdsjty/websocket
2025-12-07 10:37:07 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=05bdsjty]
2025-12-07 10:37:07 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=05bdsjty
2025-12-07 10:37:08 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=05bdsjty
2025-12-07 10:37:14 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [gjtpv3y2, uhukyh4u]
2025-12-07 10:38:01 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=05bdsjty
2025-12-07 10:38:01 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=05bdsjty
2025-12-07 10:38:01 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=05bdsjty] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:38:01 [http-nio-8181-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 05bdsjty
2025-12-07 10:38:01 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=05bdsjty
2025-12-07 10:38:01 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=05bdsjty}], simpSessionId=05bdsjty}]
2025-12-07 10:38:01 [ws-task-scheduler-9] DEBUG o.s.w.s.m.StompSubProtocolHandler [user:] - Failed to send WebSocket message to client in session 05bdsjty
java.lang.IllegalStateException: Cannot send a message when session is closed
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.sendMessage(AbstractSockJsSession.java:144)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.tryFlushMessageBuffer(ConcurrentWebSocketSessionDecorator.java:190)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(ConcurrentWebSocketSessionDecorator.java:163)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.sendToClient(StompSubProtocolHandler.java:529)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageToClient(StompSubProtocolHandler.java:516)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:386)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-12-07 10:38:01 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:38:01 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:38:01 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:38:01 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:38:01 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:38:01 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:38:01 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078681411
2025-12-07 10:38:01 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:38:01 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:38:01 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:38:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:38:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/691/lrvskux4/websocket
2025-12-07 10:38:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=lrvskux4]
2025-12-07 10:38:01 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=lrvskux4
2025-12-07 10:38:01 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=lrvskux4
2025-12-07 10:38:01 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=lrvskux4
2025-12-07 10:38:01 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=lrvskux4
2025-12-07 10:38:09 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [05bdsjty]
2025-12-07 10:38:46 [ws-task-scheduler-1] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session 3f3dkoqs with CloseStatus[code=1002, reason=null]
2025-12-07 10:38:46 [ws-task-scheduler-1] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=22b7dc66-61b3-7c79-6b89-1f18d03d8661, uri=ws://localhost:8181/ws/783/3f3dkoqs/websocket]
2025-12-07 10:38:46 [ws-task-scheduler-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=3f3dkoqs] closed with CloseStatus[code=1002, reason=null]
2025-12-07 10:38:46 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 3f3dkoqs
2025-12-07 10:38:46 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=3f3dkoqs
2025-12-07 10:38:46 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3f3dkoqs}], simpSessionId=3f3dkoqs}]
2025-12-07 10:38:51 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:38:51 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078731337
2025-12-07 10:38:51 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:38:51 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/536/oqgswpl4/websocket
2025-12-07 10:38:51 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=oqgswpl4]
2025-12-07 10:38:51 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=oqgswpl4
2025-12-07 10:38:51 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=oqgswpl4
2025-12-07 10:38:54 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [3f3dkoqs]
2025-12-07 10:39:16 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=lrvskux4
2025-12-07 10:39:16 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=lrvskux4
2025-12-07 10:39:16 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:16 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:39:16 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:39:16 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=lrvskux4] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:39:16 [http-nio-8181-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session lrvskux4
2025-12-07 10:39:16 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=lrvskux4
2025-12-07 10:39:16 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=lrvskux4}], simpSessionId=lrvskux4}]
2025-12-07 10:39:18 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=oqgswpl4] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:39:18 [http-nio-8181-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session oqgswpl4
2025-12-07 10:39:18 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=oqgswpl4
2025-12-07 10:39:18 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=oqgswpl4}], simpSessionId=oqgswpl4}]
2025-12-07 10:39:19 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:19 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:19 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 10:39:19 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 10:39:19 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:19 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:19 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:19 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:19 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:39:19 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 10:39:19 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 10:39:19 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:39:19 [http-nio-8181-exec-3] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:39:19 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 10:39:19 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:39:19 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:39:19 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:19 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:39:19 [http-nio-8181-exec-11] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:39:19 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:39:19 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 10:39:20 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 10:39:20 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 10:39:20 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:20 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:20 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:20 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:20 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:39:20 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:39:20 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:39:20 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:39:20 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:39:20 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:39:20 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:39:20 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:39:20 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:20 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:39:20 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:20 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:39:20 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:39:20 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:39:20 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:39:20 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:39:20 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:39:20 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:39:20 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:39:20 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:39:20 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078760613
2025-12-07 10:39:20 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:39:20 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/443/d3phwoek/websocket
2025-12-07 10:39:20 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=d3phwoek]
2025-12-07 10:39:21 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=d3phwoek
2025-12-07 10:39:21 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=d3phwoek
2025-12-07 10:39:24 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [lrvskux4, oqgswpl4]
2025-12-07 10:40:41 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:40:41 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:40:41 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:40:41 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:40:41 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:40:41 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078841625
2025-12-07 10:40:41 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:40:41 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:40:41 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:40:41 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:40:41 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:40:41 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078841625
2025-12-07 10:40:41 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:40:41 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:40:41 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:40:41 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:40:41 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:40:41 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/095/ax1fzng0/websocket
2025-12-07 10:40:41 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=ax1fzng0]
2025-12-07 10:40:41 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=ax1fzng0
2025-12-07 10:40:41 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=ax1fzng0
2025-12-07 10:40:48 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=ax1fzng0
2025-12-07 10:40:48 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=ax1fzng0
2025-12-07 10:40:49 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:40:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:40:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:40:49 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=ax1fzng0] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:40:49 [http-nio-8181-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session ax1fzng0
2025-12-07 10:40:49 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=ax1fzng0
2025-12-07 10:40:49 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ax1fzng0}], simpSessionId=ax1fzng0}]
2025-12-07 10:40:50 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=d3phwoek] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:40:50 [http-nio-8181-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session d3phwoek
2025-12-07 10:40:50 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=d3phwoek
2025-12-07 10:40:50 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=d3phwoek}], simpSessionId=d3phwoek}]
2025-12-07 10:40:59 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [d3phwoek, ax1fzng0]
2025-12-07 10:41:11 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 10:41:11 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 10:41:11 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:41:11 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 10:41:11 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 10:41:11 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 10:41:11 [http-nio-8181-exec-8] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:41:11 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 10:41:11 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:41:11 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 10:41:11 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 10:41:11 [http-nio-8181-exec-5] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:41:11 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 10:41:11 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 10:41:11 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 10:41:11 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 10:41:11 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:41:11 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:41:11 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:41:11 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 10:41:11 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:41:11 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 10:41:11 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:41:11 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:41:11 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:41:11 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:41:11 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:41:11 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:11 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:41:11 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:41:11 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:41:11 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:41:11 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:41:11 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 10:41:11 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:41:11 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:41:11 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 10:41:12 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:41:12 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078872753
2025-12-07 10:41:13 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:13 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:13 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:41:13 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:41:13 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:41:13 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:41:13 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:41:13 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/240/drgqdzpq/websocket
2025-12-07 10:41:13 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=drgqdzpq]
2025-12-07 10:41:13 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:13 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:41:13 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:41:13 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:41:13 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:41:13 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:41:13 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:41:13 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:41:13 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=drgqdzpq
2025-12-07 10:41:13 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=drgqdzpq
2025-12-07 10:41:54 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:54 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:54 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 10:41:54 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:54 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:54 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:54 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:54 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 10:41:54 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:41:54 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:41:54 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:41:54 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 10:41:54 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:41:54 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 10:41:54 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 10:41:54 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:41:54 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:54 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:41:54 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:41:54 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 10:41:54 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:41:54 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 10:41:54 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 10:41:55 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:55 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:41:55 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:55 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:55 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:55 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:41:55 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:41:55 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:41:55 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:41:55 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:41:55 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:41:55 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:41:55 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:55 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:41:55 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:41:55 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:55 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:41:55 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:41:55 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:41:55 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:41:55 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:55 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:41:55 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:41:55 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:41:55 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078915243
2025-12-07 10:41:55 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:41:55 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/780/ftu1ea2j/websocket
2025-12-07 10:41:55 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=ftu1ea2j]
2025-12-07 10:41:56 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=ftu1ea2j
2025-12-07 10:41:56 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=ftu1ea2j
2025-12-07 10:41:57 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:57 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:41:57 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:41:57 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:41:57 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:57 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:41:57 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:41:57 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:41:57 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:41:57 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:41:57 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078917434
2025-12-07 10:41:57 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078917432
2025-12-07 10:41:57 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:41:57 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:41:57 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:41:57 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:41:57 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:41:57 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/812/mfqmg2xu/websocket
2025-12-07 10:41:57 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=mfqmg2xu]
2025-12-07 10:41:57 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=mfqmg2xu
2025-12-07 10:41:57 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=mfqmg2xu
2025-12-07 10:42:02 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=mfqmg2xu] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:42:02 [http-nio-8181-exec-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session mfqmg2xu
2025-12-07 10:42:02 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=ftu1ea2j] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:42:02 [http-nio-8181-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session ftu1ea2j
2025-12-07 10:42:02 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=mfqmg2xu
2025-12-07 10:42:02 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=ftu1ea2j
2025-12-07 10:42:02 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=mfqmg2xu}], simpSessionId=mfqmg2xu}]
2025-12-07 10:42:02 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ftu1ea2j}], simpSessionId=ftu1ea2j}]
2025-12-07 10:42:02 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:02 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 10:42:02 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:02 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:02 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 10:42:02 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:42:02 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 10:42:02 [http-nio-8181-exec-3] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:42:02 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 10:42:02 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:42:02 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:02 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 10:42:02 [http-nio-8181-exec-5] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:42:02 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 10:42:03 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:03 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:03 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:03 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:42:03 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:42:03 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:03 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:03 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:03 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:42:03 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 10:42:03 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:42:03 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 10:42:03 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:42:03 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:42:03 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:42:03 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:42:03 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:42:03 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:03 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:03 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 10:42:03 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:42:03 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:03 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 10:42:03 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 10:42:03 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 10:42:03 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:42:03 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:42:03 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:42:03 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078923367
2025-12-07 10:42:03 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 10:42:03 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 10:42:03 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:42:03 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/931/mnxtww3m/websocket
2025-12-07 10:42:03 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=mnxtww3m]
2025-12-07 10:42:03 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=mnxtww3m
2025-12-07 10:42:03 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=mnxtww3m
2025-12-07 10:42:09 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [mfqmg2xu, ftu1ea2j]
2025-12-07 10:42:19 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:19 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:42:19 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:42:19 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:42:19 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:42:19 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078939656
2025-12-07 10:42:19 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:19 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:19 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 10:42:19 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 10:42:19 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:42:19 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078939656
2025-12-07 10:42:19 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 10:42:19 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 10:42:19 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 10:42:19 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 10:42:19 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:42:19 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/345/cbqodefn/websocket
2025-12-07 10:42:19 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=cbqodefn]
2025-12-07 10:42:19 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=cbqodefn
2025-12-07 10:42:19 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=cbqodefn
2025-12-07 10:42:35 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=cbqodefn
2025-12-07 10:42:35 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=cbqodefn
2025-12-07 10:42:35 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 10:42:35 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 10:42:35 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 10:42:35 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=cbqodefn] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:42:35 [http-nio-8181-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session cbqodefn
2025-12-07 10:42:35 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=cbqodefn
2025-12-07 10:42:35 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cbqodefn}], simpSessionId=cbqodefn}]
2025-12-07 10:42:39 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:42:39 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:42:39 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:42:39 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:42:39 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:42:39 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:42:39 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:42:39 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:42:39 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:42:39 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078959186
2025-12-07 10:42:39 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:42:39 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:42:39 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:42:39 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:42:39 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765078959186
2025-12-07 10:42:39 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:42:39 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:42:39 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/491/xpb0lwcb/websocket
2025-12-07 10:42:39 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=xpb0lwcb]
2025-12-07 10:42:39 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=xpb0lwcb
2025-12-07 10:42:39 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=xpb0lwcb
2025-12-07 10:42:42 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=xpb0lwcb
2025-12-07 10:42:42 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=xpb0lwcb
2025-12-07 10:42:42 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:42:42 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:42:42 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:42:42 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=xpb0lwcb] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:42:42 [http-nio-8181-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session xpb0lwcb
2025-12-07 10:42:42 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=xpb0lwcb
2025-12-07 10:42:42 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xpb0lwcb}], simpSessionId=xpb0lwcb}]
2025-12-07 10:42:44 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [cbqodefn]
2025-12-07 10:42:49 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [xpb0lwcb]
2025-12-07 10:43:51 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:51 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:43:51 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:43:51 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:43:51 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:51 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:51 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:43:51 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:43:51 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:43:51 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079031501
2025-12-07 10:43:51 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:43:51 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:43:51 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:43:51 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:43:51 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:43:51 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079031501
2025-12-07 10:43:51 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:43:51 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/702/ihned45n/websocket
2025-12-07 10:43:51 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=ihned45n]
2025-12-07 10:43:51 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=ihned45n
2025-12-07 10:43:51 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=ihned45n
2025-12-07 10:43:57 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=ihned45n] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:43:57 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=drgqdzpq] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:43:57 [http-nio-8181-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session ihned45n
2025-12-07 10:43:57 [http-nio-8181-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session drgqdzpq
2025-12-07 10:43:57 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=ihned45n
2025-12-07 10:43:57 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=drgqdzpq
2025-12-07 10:43:57 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ihned45n}], simpSessionId=ihned45n}]
2025-12-07 10:43:57 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=drgqdzpq}], simpSessionId=drgqdzpq}]
2025-12-07 10:43:58 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 10:43:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 10:43:58 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 10:43:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 10:43:58 [http-nio-8181-exec-8] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:43:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 10:43:58 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 10:43:58 [http-nio-8181-exec-10] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:43:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 10:43:58 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 10:43:58 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:43:58 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:43:58 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:43:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 10:43:58 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:43:58 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:43:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 10:43:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:43:58 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:43:58 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:43:58 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:43:58 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 10:43:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:43:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:43:58 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:43:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:43:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:43:58 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 10:43:58 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:43:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 10:43:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 10:43:58 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:43:58 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:43:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:43:58 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:43:59 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079038992
2025-12-07 10:43:59 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:59 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:59 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:43:59 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:43:59 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:43:59 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:43:59 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:59 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:43:59 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:43:59 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:43:59 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:43:59 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:43:59 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:43:59 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:43:59 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:43:59 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/361/a3gl5is4/websocket
2025-12-07 10:43:59 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=a3gl5is4]
2025-12-07 10:44:00 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=a3gl5is4
2025-12-07 10:44:00 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=a3gl5is4
2025-12-07 10:44:01 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:44:01 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:44:01 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:44:01 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:44:01 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:44:01 [http-nio-8181-exec-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079041403
2025-12-07 10:44:01 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:44:01 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:44:01 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:44:01 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:44:01 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079041403
2025-12-07 10:44:01 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:44:01 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:44:01 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:44:01 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:44:01 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:44:01 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3e678765
2025-12-07 10:44:01 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/891/olvyyllv/websocket
2025-12-07 10:44:01 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=olvyyllv]
2025-12-07 10:44:01 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=olvyyllv
2025-12-07 10:44:01 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=olvyyllv
2025-12-07 10:44:03 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=olvyyllv
2025-12-07 10:44:03 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=olvyyllv
2025-12-07 10:44:03 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:44:03 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:44:03 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:44:03 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=olvyyllv] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:44:03 [http-nio-8181-exec-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session olvyyllv
2025-12-07 10:44:03 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=olvyyllv
2025-12-07 10:44:03 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=olvyyllv}], simpSessionId=olvyyllv}]
2025-12-07 10:44:03 [http-nio-8181-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 10:44:04 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [drgqdzpq, ihned45n]
2025-12-07 10:44:09 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [olvyyllv]
2025-12-07 10:44:33 [http-nio-8181-exec-11] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=mnxtww3m] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:44:33 [http-nio-8181-exec-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session mnxtww3m
2025-12-07 10:44:33 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=mnxtww3m
2025-12-07 10:44:33 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=mnxtww3m}], simpSessionId=mnxtww3m}]
2025-12-07 10:44:39 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [mnxtww3m]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session a3gl5is4 with CloseStatus[code=1001, reason=null]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=c544589f-2025-c531-1776-c7feda5efbeb, uri=ws://localhost:8181/ws/361/a3gl5is4/websocket]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=a3gl5is4] closed with CloseStatus[code=1001, reason=null]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session a3gl5is4
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=a3gl5is4
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopping...
2025-12-07 10:44:43 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5a47e0d0]]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5a47e0d0]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5a47e0d0]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopped.
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 10:44:43 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 10:44:44 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 10:44:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Shutdown initiated...
2025-12-07 10:44:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Shutdown completed.
2025-12-07 10:52:59 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Starting BookSocialApplication using Java 17.0.12 with PID 10932 (C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy\target\classes started by LENOVO in C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy)
2025-12-07 10:52:59 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - No active profile set, falling back to 1 default profile: "default"
2025-12-07 10:53:00 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls [user:] - The Class-Path manifest attribute in C:\Users\LENOVO\.m2\repository\io\github\cdimascio\java-dotenv\5.2.2\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/kotlin-stdlib-1.4.0.jar,file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/annotations-13.0.jar
2025-12-07 10:53:00 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [user:] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-07 10:53:00 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [user:] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-07 10:53:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-07 10:53:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Finished Spring Data repository scanning in 580 ms. Found 27 JPA repository interfaces.
2025-12-07 10:53:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat initialized with port 8181 (http)
2025-12-07 10:53:13 [restartedMain] INFO  o.a.catalina.core.StandardService [user:] - Starting service [Tomcat]
2025-12-07 10:53:13 [restartedMain] INFO  o.a.catalina.core.StandardEngine [user:] - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-12-07 10:53:13 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring embedded WebApplicationContext
2025-12-07 10:53:13 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext [user:] - Root WebApplicationContext: initialization completed in 13082 ms
2025-12-07 10:53:13 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper [user:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-07 10:53:14 [restartedMain] INFO  org.hibernate.Version [user:] - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-12-07 10:53:14 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator [user:] - HHH000026: Second-level cache disabled
2025-12-07 10:53:15 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo [user:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-07 10:53:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Starting...
2025-12-07 10:53:15 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool [user:] - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2319224f
2025-12-07 10:53:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Start completed.
2025-12-07 10:53:15 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-07 10:53:15 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-12-07 10:53:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [user:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-07 10:53:20 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 10:53:20 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory [user:] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-07 10:53:21 [restartedMain] DEBUG com.nix.config.JwtValidator [user:] - Filter 'jwtValidator' configured for use
2025-12-07 10:53:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [user:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-07 10:53:30 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [user:] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-12-07 10:53:30 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-12-07 10:53:31 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver [user:] - Exposing 2 endpoints beneath base path '/actuator'
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AdminController:
	
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthController:
	
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthorDashboardController:
	
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.BookController:
	
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CategoryController:
	
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChapterController:
	
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChatController:
	{[MESSAGE],[/chat/{groupId}]}: sendToUser(MessageDTO,String)
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CommentController:
	
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CreditPackageController:
	
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ImageController:
	
2025-12-07 10:53:33 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.LogController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.NotificationController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PaymentController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PostController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ProgressController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PurchaseController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RatingController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ReportController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RoleController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.SensitiveWordController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.TagController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.UserController:
	
2025-12-07 10:53:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-12-07 10:53:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer [user:] - LiveReload server is running on port 35729
2025-12-07 10:53:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat started on port 8181 (http) with context path '/'
2025-12-07 10:53:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 10:53:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 10:53:35 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Starting...
2025-12-07 10:53:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fc0a830]
2025-12-07 10:53:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fc0a830]
2025-12-07 10:53:35 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fc0a830]]
2025-12-07 10:53:35 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Started.
2025-12-07 10:53:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 10:53:35 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 10:53:35 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Started BookSocialApplication in 39.043 seconds (process running for 41.985)
2025-12-07 10:54:35 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats [user:] - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-12-07 10:58:44 [http-nio-8181-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-07 10:58:44 [http-nio-8181-exec-3] INFO  o.s.web.servlet.DispatcherServlet [user:] - Initializing Servlet 'dispatcherServlet'
2025-12-07 10:58:44 [http-nio-8181-exec-3] INFO  o.s.web.servlet.DispatcherServlet [user:] - Completed initialization in 3 ms
2025-12-07 10:58:44 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:44 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:44 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:44 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:44 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:44 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 10:58:45 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 10:58:45 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 10:58:45 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 10:58:45 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:58:45 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 10:58:45 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 10:58:45 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:58:45 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 10:58:45 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:58:45 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 10:58:45 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 10:58:45 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 10:58:45 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 10:58:45 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 10:58:45 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 10:58:45 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 10:58:45 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:58:45 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 10:58:45 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:58:45 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:58:45 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:58:45 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:58:45 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:58:45 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:58:45 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:58:45 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:58:45 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 10:58:45 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 10:58:45 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:58:45 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:58:45 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-10] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier [user:] - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-12-07 10:58:45 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:58:45 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:58:45 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:58:45 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:45 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:58:45 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:58:46 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:46 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 10:58:46 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 10:58:46 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 10:58:46 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079926510
2025-12-07 10:58:46 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:46 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:46 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:58:46 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:58:46 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:58:46 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:58:46 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:58:46 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 10:58:46 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:46 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/330/aqdm1woo/websocket
2025-12-07 10:58:46 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:58:46 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:58:46 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:46 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 10:58:46 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:58:46 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 10:58:46 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=aqdm1woo]
2025-12-07 10:58:47 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=aqdm1woo
2025-12-07 10:58:47 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=aqdm1woo
2025-12-07 10:58:51 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:51 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:58:51 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:58:51 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:58:51 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:51 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:58:51 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:58:51 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:58:51 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:58:51 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:58:51 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 10:58:51 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:58:51 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:58:51 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079931200
2025-12-07 10:58:51 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 10:58:51 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079931200
2025-12-07 10:58:51 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 10:58:51 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/632/k3qg33la/websocket
2025-12-07 10:58:51 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=k3qg33la]
2025-12-07 10:58:51 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=k3qg33la
2025-12-07 10:58:51 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=k3qg33la
2025-12-07 10:59:02 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=k3qg33la
2025-12-07 10:59:02 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=k3qg33la
2025-12-07 10:59:02 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:59:02 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=k3qg33la] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:59:02 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:59:02 [http-nio-8181-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session k3qg33la
2025-12-07 10:59:02 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=k3qg33la
2025-12-07 10:59:02 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=k3qg33la}], simpSessionId=k3qg33la}]
2025-12-07 10:59:02 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:59:04 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:59:04 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:59:04 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:59:04 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 10:59:04 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:59:04 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 10:59:04 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:59:04 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 10:59:04 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 10:59:04 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 10:59:04 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079944760
2025-12-07 10:59:04 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765079944761
2025-12-07 10:59:04 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:59:04 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 10:59:04 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 10:59:04 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/709/dhtszjiq/websocket
2025-12-07 10:59:04 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 10:59:04 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=dhtszjiq]
2025-12-07 10:59:04 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 10:59:04 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=dhtszjiq
2025-12-07 10:59:05 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=dhtszjiq
2025-12-07 10:59:11 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [k3qg33la]
2025-12-07 10:59:48 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=dhtszjiq
2025-12-07 10:59:48 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=dhtszjiq
2025-12-07 10:59:48 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 10:59:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 10:59:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 10:59:48 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=dhtszjiq] closed with CloseStatus[code=1000, reason=null]
2025-12-07 10:59:48 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session dhtszjiq
2025-12-07 10:59:48 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=dhtszjiq
2025-12-07 10:59:48 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=dhtszjiq}], simpSessionId=dhtszjiq}]
2025-12-07 10:59:56 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [dhtszjiq]
2025-12-07 11:01:45 [ws-task-scheduler-5] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session aqdm1woo with CloseStatus[code=1002, reason=null]
2025-12-07 11:01:45 [ws-task-scheduler-5] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=c6a9b2fe-5c7b-30fc-3069-6234e5b8ddc8, uri=ws://localhost:8181/ws/330/aqdm1woo/websocket]
2025-12-07 11:01:45 [ws-task-scheduler-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=aqdm1woo] closed with CloseStatus[code=1002, reason=null]
2025-12-07 11:01:45 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session aqdm1woo
2025-12-07 11:01:45 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=aqdm1woo
2025-12-07 11:01:45 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=aqdm1woo}], simpSessionId=aqdm1woo}]
2025-12-07 11:01:51 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [aqdm1woo]
2025-12-07 11:02:57 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:57 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:57 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:57 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 11:02:57 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:57 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:57 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:57 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 11:02:57 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 11:02:57 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 11:02:57 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 11:02:57 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 11:02:57 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 11:02:57 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 11:02:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 11:02:58 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 11:02:58 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 11:02:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 11:02:58 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 11:02:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 11:02:58 [http-nio-8181-exec-2] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 11:02:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 11:02:58 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 11:02:58 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:02:58 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:58 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:02:58 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 11:02:58 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 11:02:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:02:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:02:58 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 11:02:58 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 11:02:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 11:02:58 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:02:58 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:02:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:02:58 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:02:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:02:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:02:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:02:59 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:02:59 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765080179127
2025-12-07 11:02:59 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:02:59 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/118/ja4x04gs/websocket
2025-12-07 11:02:59 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=ja4x04gs]
2025-12-07 11:02:59 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=ja4x04gs
2025-12-07 11:02:59 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=ja4x04gs
2025-12-07 11:03:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:03:01 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:03:01 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:03:01 [http-nio-8181-exec-11] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:03:01 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:03:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765080181676
2025-12-07 11:03:01 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 11:03:01 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765080181678
2025-12-07 11:03:01 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:03:01 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:03:01 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:03:01 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 11:03:01 [http-nio-8181-exec-11] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:03:01 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 11:03:01 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:03:01 [http-nio-8181-exec-11] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:03:01 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:03:01 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/627/jcaoutul/websocket
2025-12-07 11:03:01 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=jcaoutul]
2025-12-07 11:03:01 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=jcaoutul
2025-12-07 11:03:02 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=jcaoutul
2025-12-07 11:03:06 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=jcaoutul
2025-12-07 11:03:06 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=jcaoutul
2025-12-07 11:03:06 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:03:06 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 11:03:06 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 11:03:06 [http-nio-8181-exec-12] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=jcaoutul] closed with CloseStatus[code=1000, reason=null]
2025-12-07 11:03:06 [http-nio-8181-exec-12] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session jcaoutul
2025-12-07 11:03:06 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=jcaoutul
2025-12-07 11:03:06 [ws-task-scheduler-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=jcaoutul}], simpSessionId=jcaoutul}]
2025-12-07 11:03:07 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=ja4x04gs] closed with CloseStatus[code=1000, reason=null]
2025-12-07 11:03:07 [http-nio-8181-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session ja4x04gs
2025-12-07 11:03:07 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=ja4x04gs
2025-12-07 11:03:07 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ja4x04gs}], simpSessionId=ja4x04gs}]
2025-12-07 11:03:11 [MessageBroker-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [jcaoutul]
2025-12-07 11:03:16 [MessageBroker-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [ja4x04gs]
2025-12-07 11:07:56 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 11:07:56 [http-nio-8181-exec-9] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 11:07:56 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 11:07:56 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 11:07:56 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 11:07:56 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 11:07:56 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 11:07:56 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:07:56 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:07:56 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 11:07:56 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:07:56 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 11:07:56 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 11:07:56 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 11:07:56 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:07:56 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 11:07:56 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 11:07:56 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:07:56 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 11:07:56 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 11:07:56 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 11:07:56 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:07:56 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:07:56 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:07:56 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 11:07:56 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 11:07:56 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:07:56 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 11:07:56 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:07:56 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 11:07:56 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:56 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 11:07:56 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 11:07:56 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:07:56 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765080476753
2025-12-07 11:07:57 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:57 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:07:57 [http-nio-8181-exec-12] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:07:57 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:57 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:07:57 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:07:57 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:57 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:07:57 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:07:57 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:07:57 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:07:57 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:07:57 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:07:57 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:07:57 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:07:57 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/232/h11qaigr/websocket
2025-12-07 11:07:57 [http-nio-8181-exec-12] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=h11qaigr]
2025-12-07 11:07:57 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=h11qaigr
2025-12-07 11:07:57 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=h11qaigr
2025-12-07 11:08:01 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:08:01 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:08:01 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:08:01 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:08:01 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:08:01 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765080481662
2025-12-07 11:08:01 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:08:01 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:08:01 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:08:01 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 11:08:01 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:08:01 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:08:01 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 11:08:01 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765080481662
2025-12-07 11:08:01 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 11:08:01 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:08:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:08:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/705/zwxfcrmi/websocket
2025-12-07 11:08:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=zwxfcrmi]
2025-12-07 11:08:01 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=zwxfcrmi
2025-12-07 11:08:01 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=zwxfcrmi
2025-12-07 11:08:09 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=zwxfcrmi
2025-12-07 11:08:09 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=zwxfcrmi
2025-12-07 11:08:09 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:08:09 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 11:08:09 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 11:08:09 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 11:08:11 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=zwxfcrmi
2025-12-07 11:08:11 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=zwxfcrmi
2025-12-07 11:08:11 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:08:11 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 11:08:11 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 11:08:11 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=zwxfcrmi] closed with CloseStatus[code=1000, reason=null]
2025-12-07 11:08:11 [http-nio-8181-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session zwxfcrmi
2025-12-07 11:08:11 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=zwxfcrmi
2025-12-07 11:08:11 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=zwxfcrmi}], simpSessionId=zwxfcrmi}]
2025-12-07 11:08:16 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [zwxfcrmi]
2025-12-07 11:09:46 [ws-task-scheduler-3] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session h11qaigr with CloseStatus[code=1002, reason=null]
2025-12-07 11:09:46 [ws-task-scheduler-3] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=a73cf7e9-c4e4-dd95-dd36-e9402f64d6ac, uri=ws://localhost:8181/ws/232/h11qaigr/websocket]
2025-12-07 11:09:46 [ws-task-scheduler-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=h11qaigr] closed with CloseStatus[code=1002, reason=null]
2025-12-07 11:09:46 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session h11qaigr
2025-12-07 11:09:46 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=h11qaigr
2025-12-07 11:09:46 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=h11qaigr}], simpSessionId=h11qaigr}]
2025-12-07 11:09:51 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [h11qaigr]
2025-12-07 11:21:00 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 11:21:00 [http-nio-8181-exec-8] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 11:21:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 11:21:00 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 11:21:00 [http-nio-8181-exec-3] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 11:21:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 11:21:00 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:21:00 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 11:21:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 11:21:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 11:21:00 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:21:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 11:21:00 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:21:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 11:21:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 11:21:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:21:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 11:21:00 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:21:00 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 11:21:00 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 11:21:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:21:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 11:21:00 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:21:00 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:21:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:21:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 11:21:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 11:21:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:21:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 11:21:00 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 11:21:00 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 11:21:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 11:21:00 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:21:00 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765081260790
2025-12-07 11:21:01 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:01 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:01 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:21:01 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:21:01 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:21:01 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:21:01 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:01 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:21:01 [http-nio-8181-exec-12] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:21:01 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:21:01 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:21:01 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:01 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 11:21:01 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 11:21:01 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:21:01 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/403/uchmqf4z/websocket
2025-12-07 11:21:01 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=uchmqf4z]
2025-12-07 11:21:01 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=uchmqf4z
2025-12-07 11:21:01 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=uchmqf4z
2025-12-07 11:21:03 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:03 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:21:03 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:21:03 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:21:03 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:03 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:03 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 11:21:03 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 11:21:03 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 11:21:03 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 11:21:03 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 11:21:03 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 11:21:03 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:21:03 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:21:03 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765081263374
2025-12-07 11:21:03 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765081263376
2025-12-07 11:21:03 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2486bb93
2025-12-07 11:21:03 [http-nio-8181-exec-12] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/372/1r0mulqa/websocket
2025-12-07 11:21:03 [http-nio-8181-exec-12] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=1r0mulqa]
2025-12-07 11:21:03 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=1r0mulqa
2025-12-07 11:21:03 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=1r0mulqa
2025-12-07 11:21:06 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=1r0mulqa
2025-12-07 11:21:06 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=1r0mulqa
2025-12-07 11:21:06 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:06 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 11:21:06 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 11:21:06 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 11:21:08 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:08 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.searchUser
2025-12-07 11:21:08 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.searchUser
2025-12-07 11:21:12 [http-nio-8181-exec-12] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:12 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.searchUser
2025-12-07 11:21:12 [http-nio-8181-exec-12] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.searchUser
2025-12-07 11:21:12 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:12 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.searchUser
2025-12-07 11:21:12 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.searchUser
2025-12-07 11:21:14 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:14 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.searchUser
2025-12-07 11:21:14 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.searchUser
2025-12-07 11:21:14 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:14 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.searchUser
2025-12-07 11:21:14 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.searchUser
2025-12-07 11:21:18 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=1r0mulqa
2025-12-07 11:21:18 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=1r0mulqa
2025-12-07 11:21:18 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=1r0mulqa] closed with CloseStatus[code=1000, reason=null]
2025-12-07 11:21:18 [http-nio-8181-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 1r0mulqa
2025-12-07 11:21:18 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=1r0mulqa
2025-12-07 11:21:18 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=1r0mulqa}], simpSessionId=1r0mulqa}]
2025-12-07 11:21:18 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 11:21:18 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 11:21:18 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 11:21:26 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [1r0mulqa]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session uchmqf4z with CloseStatus[code=1001, reason=null]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=21dd4721-9043-5451-c750-cc87fa9869b6, uri=ws://localhost:8181/ws/403/uchmqf4z/websocket]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=uchmqf4z] closed with CloseStatus[code=1001, reason=null]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session uchmqf4z
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=uchmqf4z
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopping...
2025-12-07 11:21:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fc0a830]]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fc0a830]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fc0a830]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopped.
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 11:21:28 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 11:21:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 11:21:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Shutdown initiated...
2025-12-07 11:21:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Shutdown completed.
2025-12-07 15:12:34 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Starting BookSocialApplication using Java 17.0.12 with PID 4592 (C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy\target\classes started by LENOVO in C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy)
2025-12-07 15:12:34 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - No active profile set, falling back to 1 default profile: "default"
2025-12-07 15:12:34 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls [user:] - The Class-Path manifest attribute in C:\Users\LENOVO\.m2\repository\io\github\cdimascio\java-dotenv\5.2.2\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/kotlin-stdlib-1.4.0.jar,file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/annotations-13.0.jar
2025-12-07 15:12:34 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [user:] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-07 15:12:34 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [user:] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-07 15:12:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-07 15:12:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Finished Spring Data repository scanning in 269 ms. Found 27 JPA repository interfaces.
2025-12-07 15:12:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat initialized with port 8181 (http)
2025-12-07 15:12:38 [restartedMain] INFO  o.a.catalina.core.StandardService [user:] - Starting service [Tomcat]
2025-12-07 15:12:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine [user:] - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-12-07 15:12:38 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring embedded WebApplicationContext
2025-12-07 15:12:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext [user:] - Root WebApplicationContext: initialization completed in 4820 ms
2025-12-07 15:12:39 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper [user:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-07 15:12:39 [restartedMain] INFO  org.hibernate.Version [user:] - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-12-07 15:12:39 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator [user:] - HHH000026: Second-level cache disabled
2025-12-07 15:12:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo [user:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-07 15:12:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Starting...
2025-12-07 15:12:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool [user:] - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6794e4c7
2025-12-07 15:12:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Start completed.
2025-12-07 15:12:41 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-07 15:12:41 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-12-07 15:12:45 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [user:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-07 15:12:46 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 15:12:46 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory [user:] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-07 15:12:47 [restartedMain] DEBUG com.nix.config.JwtValidator [user:] - Filter 'jwtValidator' configured for use
2025-12-07 15:12:50 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [user:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-07 15:12:50 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [user:] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-12-07 15:12:50 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-12-07 15:12:51 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver [user:] - Exposing 2 endpoints beneath base path '/actuator'
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AdminController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthorDashboardController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.BookController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CategoryController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChapterController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChatController:
	{[MESSAGE],[/chat/{groupId}]}: sendToUser(MessageDTO,String)
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CommentController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CreditPackageController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ImageController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.LogController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.NotificationController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PaymentController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PostController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ProgressController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PurchaseController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RatingController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ReportController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RoleController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.SensitiveWordController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.TagController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.UserController:
	
2025-12-07 15:12:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-12-07 15:12:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer [user:] - LiveReload server is running on port 35729
2025-12-07 15:12:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat started on port 8181 (http) with context path '/'
2025-12-07 15:12:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 15:12:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 15:12:52 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Starting...
2025-12-07 15:12:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f9cd587]
2025-12-07 15:12:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f9cd587]
2025-12-07 15:12:52 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f9cd587]]
2025-12-07 15:12:52 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Started.
2025-12-07 15:12:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 15:12:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 15:12:53 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Started BookSocialApplication in 19.661 seconds (process running for 20.969)
2025-12-07 15:13:17 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [user:] - Restarting due to 248 class path changes (0 additions, 248 deletions, 0 modifications)
2025-12-07 15:13:17 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 15:13:17 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 15:13:17 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopping...
2025-12-07 15:13:17 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f9cd587]]
2025-12-07 15:13:17 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f9cd587]
2025-12-07 15:13:17 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f9cd587]
2025-12-07 15:13:17 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopped.
2025-12-07 15:13:17 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 15:13:17 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 15:13:25 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 15:13:25 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Shutdown initiated...
2025-12-07 15:13:25 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Shutdown completed.
2025-12-07 15:13:33 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Starting BookSocialApplication using Java 17.0.12 with PID 4592 (C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy\target\classes started by LENOVO in C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy)
2025-12-07 15:13:33 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - No active profile set, falling back to 1 default profile: "default"
2025-12-07 15:13:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-07 15:13:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Finished Spring Data repository scanning in 345 ms. Found 27 JPA repository interfaces.
2025-12-07 15:13:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat initialized with port 8181 (http)
2025-12-07 15:13:35 [restartedMain] INFO  o.a.catalina.core.StandardService [user:] - Starting service [Tomcat]
2025-12-07 15:13:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine [user:] - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-12-07 15:13:35 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] [user:] - Initializing Spring embedded WebApplicationContext
2025-12-07 15:13:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext [user:] - Root WebApplicationContext: initialization completed in 2594 ms
2025-12-07 15:13:36 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper [user:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-07 15:13:36 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator [user:] - HHH000026: Second-level cache disabled
2025-12-07 15:13:36 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo [user:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-07 15:13:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-2 - Starting...
2025-12-07 15:13:36 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool [user:] - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13c4fcee
2025-12-07 15:13:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-2 - Start completed.
2025-12-07 15:13:36 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-07 15:13:36 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-12-07 15:13:37 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [user:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-07 15:13:38 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 15:13:38 [restartedMain] DEBUG com.nix.config.JwtValidator [user:] - Filter 'jwtValidator' configured for use
2025-12-07 15:13:40 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [user:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-07 15:13:40 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [user:] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-12-07 15:13:40 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver [user:] - Exposing 2 endpoints beneath base path '/actuator'
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AdminController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthorDashboardController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.BookController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CategoryController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChapterController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChatController:
	{[MESSAGE],[/chat/{groupId}]}: sendToUser(MessageDTO,String)
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CommentController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CreditPackageController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ImageController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.LogController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.NotificationController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PaymentController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PostController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ProgressController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PurchaseController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RatingController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ReportController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RoleController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.SensitiveWordController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.TagController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.UserController:
	
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-12-07 15:13:40 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer [user:] - LiveReload server is running on port 35729
2025-12-07 15:13:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat started on port 8181 (http) with context path '/'
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 15:13:40 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Starting...
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@b545440]
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@b545440]
2025-12-07 15:13:40 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@b545440]]
2025-12-07 15:13:40 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Started.
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 15:13:40 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 15:13:40 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Started BookSocialApplication in 7.903 seconds (process running for 68.789)
2025-12-07 15:13:40 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [user:] - Condition evaluation unchanged
2025-12-07 15:13:40 [http-nio-8181-exec-3] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] [user:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-07 15:13:40 [http-nio-8181-exec-3] INFO  o.s.web.servlet.DispatcherServlet [user:] - Initializing Servlet 'dispatcherServlet'
2025-12-07 15:13:40 [http-nio-8181-exec-3] INFO  o.s.web.servlet.DispatcherServlet [user:] - Completed initialization in 3 ms
2025-12-07 15:13:41 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:41 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:41 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:41 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:41 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:41 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:41 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 15:13:41 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 15:13:41 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 15:13:41 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 15:13:41 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 15:13:41 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 15:13:41 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 15:13:41 [http-nio-8181-exec-5] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 15:13:41 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 15:13:41 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 15:13:41 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 15:13:41 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 15:13:41 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 15:13:41 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:41 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 15:13:41 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 15:13:42 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:42 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:42 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:42 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765095222162
2025-12-07 15:13:42 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 15:13:42 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 15:13:42 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 15:13:42 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 15:13:42 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:42 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 15:13:42 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 15:13:42 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 15:13:42 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 15:13:42 [http-nio-8181-exec-4] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier [user:] - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-12-07 15:13:42 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:42 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 15:13:42 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 15:13:42 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:42 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/788/ynvzn3fw/websocket
2025-12-07 15:13:42 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=ynvzn3fw]
2025-12-07 15:13:42 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=ynvzn3fw
2025-12-07 15:13:42 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=ynvzn3fw
2025-12-07 15:13:51 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:51 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:51 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:51 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:51 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:51 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 15:13:51 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 15:13:51 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 15:13:51 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 15:13:51 [http-nio-8181-exec-9] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 15:13:51 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:51 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 15:13:51 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 15:13:51 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 15:13:51 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 15:13:51 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 15:13:51 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 15:13:52 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 15:13:52 [http-nio-8181-exec-5] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 15:13:52 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 15:13:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 15:13:52 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 15:13:52 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 15:13:52 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 15:13:52 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 15:13:52 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 15:13:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 15:13:52 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 15:13:52 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 15:13:52 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 15:13:52 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 15:13:52 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 15:13:52 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 15:13:52 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 15:13:52 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 15:13:52 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 15:13:52 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 15:13:52 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 15:13:52 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 15:13:52 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 15:13:52 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 15:13:52 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 15:13:52 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 15:13:52 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 15:13:52 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:52 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 15:13:52 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 15:13:52 [http-nio-8181-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 15:13:53 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:53 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765095233030
2025-12-07 15:13:53 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:53 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:53 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 15:13:53 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 15:13:53 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 15:13:53 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 15:13:53 [http-nio-8181-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 15:13:53 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:53 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/707/qzrjxait/websocket
2025-12-07 15:13:53 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 15:13:53 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:53 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=qzrjxait]
2025-12-07 15:13:53 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 15:13:53 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 15:13:53 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:53 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 15:13:53 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 15:13:54 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=qzrjxait
2025-12-07 15:13:54 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 15:13:54 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=qzrjxait
2025-12-07 15:13:56 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:56 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 15:13:56 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 15:13:56 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 15:13:56 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:56 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:56 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:56 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765095236913
2025-12-07 15:13:56 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 15:13:56 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765095236914
2025-12-07 15:13:56 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:13:56 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 15:13:56 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 15:13:56 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:56 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 15:13:56 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/943/ydqonhy5/websocket
2025-12-07 15:13:56 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=ydqonhy5]
2025-12-07 15:13:56 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=ydqonhy5
2025-12-07 15:13:56 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 15:13:56 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 15:13:57 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=ydqonhy5
2025-12-07 15:13:58 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:58 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 15:13:58 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 15:13:58 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 15:13:58 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:58 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:58 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765095238670
2025-12-07 15:13:58 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765095238669
2025-12-07 15:13:58 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:58 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:13:58 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ec06b70
2025-12-07 15:13:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 15:13:58 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/054/xwufguws/websocket
2025-12-07 15:13:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 15:13:58 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=xwufguws]
2025-12-07 15:13:58 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 15:13:58 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 15:13:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 15:13:58 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=xwufguws
2025-12-07 15:13:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 15:13:58 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=xwufguws
2025-12-07 15:14:00 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 15:14:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.createMessage
2025-12-07 15:14:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.createMessage
2025-12-07 15:14:00 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=xwufguws, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 15:14:00 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 15:14:00 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 15:14:00 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 15:14:00 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=6908d006-9969-4398-8a14-443ec19da5f3, receiverId=6908d006-9969-4398-8a14-443ec19da5f3}
2025-12-07 15:14:00 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 15:14:00 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"6908d...(truncated)
2025-12-07 15:14:00 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 15:14:00 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 15:14:00 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 15:14:03 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:14:03 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 15:14:03 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 15:14:03 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=ydqonhy5, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 15:14:03 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 15:14:03 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 15:14:03 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 15:14:03 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 15:14:03 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 15:14:03 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 15:14:03 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 15:14:03 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 15:14:03 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 15:14:04 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:14:04 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 15:14:04 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 15:14:04 [ws-task-scheduler-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=ydqonhy5, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 15:14:04 [ws-task-scheduler-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 15:14:04 [ws-task-scheduler-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 15:14:04 [ws-task-scheduler-10] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 15:14:04 [ws-task-scheduler-10] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 15:14:04 [ws-task-scheduler-10] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 15:14:04 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 15:14:04 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 15:14:04 [ws-task-scheduler-10] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 15:14:04 [ws-task-scheduler-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 15:14:06 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 15:14:06 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 15:14:06 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 15:14:06 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=ydqonhy5, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 15:14:06 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 15:14:06 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 15:14:06 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 15:14:06 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 15:14:06 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 15:14:06 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 15:14:06 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 15:14:06 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 15:14:06 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 15:14:10 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=ynvzn3fw] closed with CloseStatus[code=1000, reason=null]
2025-12-07 15:14:10 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=xwufguws] closed with CloseStatus[code=1000, reason=null]
2025-12-07 15:14:10 [http-nio-8181-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session xwufguws
2025-12-07 15:14:10 [http-nio-8181-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session ynvzn3fw
2025-12-07 15:14:10 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=ynvzn3fw
2025-12-07 15:14:10 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=xwufguws
2025-12-07 15:14:10 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ynvzn3fw}], simpSessionId=ynvzn3fw}]
2025-12-07 15:14:10 [ws-task-scheduler-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xwufguws}], simpSessionId=xwufguws}]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session qzrjxait with CloseStatus[code=1001, reason=null]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=48a2f444-419f-c559-512d-138fe75d7e59, uri=ws://localhost:8181/ws/707/qzrjxait/websocket]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=qzrjxait] closed with CloseStatus[code=1001, reason=null]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session qzrjxait
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=qzrjxait
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session ydqonhy5 with CloseStatus[code=1001, reason=null]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=40f8de76-3d40-9ec5-c70c-9fc6830eac05, uri=ws://localhost:8181/ws/943/ydqonhy5/websocket]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=ydqonhy5] closed with CloseStatus[code=1001, reason=null]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session ydqonhy5
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=ydqonhy5
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopping...
2025-12-07 15:14:13 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@b545440]]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@b545440]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@b545440]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopped.
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 15:14:13 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 15:14:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-2 - Shutdown initiated...
2025-12-07 15:14:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-2 - Shutdown completed.
2025-12-07 18:50:38 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Starting BookSocialApplication using Java 17.0.12 with PID 6988 (C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy\target\classes started by LENOVO in C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy)
2025-12-07 18:50:38 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - No active profile set, falling back to 1 default profile: "default"
2025-12-07 18:50:39 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls [user:] - The Class-Path manifest attribute in C:\Users\LENOVO\.m2\repository\io\github\cdimascio\java-dotenv\5.2.2\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/kotlin-stdlib-1.4.0.jar,file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/LENOVO/.m2/repository/io/github/cdimascio/java-dotenv/5.2.2/annotations-13.0.jar
2025-12-07 18:50:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [user:] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-07 18:50:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor [user:] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-07 18:50:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-07 18:50:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Finished Spring Data repository scanning in 245 ms. Found 27 JPA repository interfaces.
2025-12-07 18:50:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat initialized with port 8181 (http)
2025-12-07 18:50:41 [restartedMain] INFO  o.a.catalina.core.StandardService [user:] - Starting service [Tomcat]
2025-12-07 18:50:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine [user:] - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-12-07 18:50:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring embedded WebApplicationContext
2025-12-07 18:50:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext [user:] - Root WebApplicationContext: initialization completed in 3004 ms
2025-12-07 18:50:42 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper [user:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-07 18:50:42 [restartedMain] INFO  org.hibernate.Version [user:] - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-12-07 18:50:42 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator [user:] - HHH000026: Second-level cache disabled
2025-12-07 18:50:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo [user:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-07 18:50:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Starting...
2025-12-07 18:50:44 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool [user:] - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20eca55b
2025-12-07 18:50:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Start completed.
2025-12-07 18:50:44 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-07 18:50:44 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-12-07 18:50:46 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [user:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-07 18:50:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 18:50:47 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory [user:] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-07 18:50:48 [restartedMain] DEBUG com.nix.config.JwtValidator [user:] - Filter 'jwtValidator' configured for use
2025-12-07 18:50:50 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [user:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-07 18:50:50 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [user:] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-12-07 18:50:50 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-12-07 18:50:51 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver [user:] - Exposing 2 endpoints beneath base path '/actuator'
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AdminController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthorDashboardController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.BookController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CategoryController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChapterController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChatController:
	{[MESSAGE],[/chat/{groupId}]}: sendToUser(MessageDTO,String)
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CommentController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CreditPackageController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ImageController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.LogController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.NotificationController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PaymentController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PostController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ProgressController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PurchaseController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RatingController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ReportController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RoleController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.SensitiveWordController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.TagController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.UserController:
	
2025-12-07 18:50:51 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-12-07 18:50:51 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer [user:] - LiveReload server is running on port 35729
2025-12-07 18:50:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat started on port 8181 (http) with context path '/'
2025-12-07 18:50:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 18:50:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 18:50:52 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Starting...
2025-12-07 18:50:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11e7a8af]
2025-12-07 18:50:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11e7a8af]
2025-12-07 18:50:52 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11e7a8af]]
2025-12-07 18:50:52 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Started.
2025-12-07 18:50:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 18:50:52 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 18:50:52 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Started BookSocialApplication in 14.198 seconds (process running for 14.833)
2025-12-07 18:51:36 [http-nio-8181-exec-6] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-07 18:51:36 [http-nio-8181-exec-6] INFO  o.s.web.servlet.DispatcherServlet [user:] - Initializing Servlet 'dispatcherServlet'
2025-12-07 18:51:36 [http-nio-8181-exec-6] INFO  o.s.web.servlet.DispatcherServlet [user:] - Completed initialization in 3 ms
2025-12-07 18:51:36 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:36 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:36 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:36 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:36 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:36 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:36 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:51:36 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 18:51:36 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:51:36 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:51:36 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 18:51:36 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 18:51:36 [http-nio-8181-exec-4] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:51:36 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 18:51:36 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:51:36 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 18:51:36 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 18:51:36 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:51:36 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 18:51:37 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:51:37 [http-nio-8181-exec-5] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:51:37 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 18:51:37 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 18:51:37 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:51:37 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 18:51:37 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:51:37 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:51:37 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:51:37 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 18:51:37 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 18:51:37 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:51:37 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:51:37 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:51:37 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:51:37 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:51:37 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:51:37 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:51:37 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:51:37 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:51:37 [http-nio-8181-exec-7] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier [user:] - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-12-07 18:51:37 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:51:37 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:37 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:51:37 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:51:37 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:51:37 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:51:38 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:51:38 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108298389
2025-12-07 18:51:38 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:38 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:51:38 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:51:39 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:51:39 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:39 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:39 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:51:39 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/521/xuihy0te/websocket
2025-12-07 18:51:39 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:51:39 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:51:39 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:51:39 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:51:39 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:39 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:51:39 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:51:39 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:39 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:51:39 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:51:39 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:51:39 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=xuihy0te]
2025-12-07 18:51:39 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=xuihy0te
2025-12-07 18:51:39 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=xuihy0te
2025-12-07 18:51:40 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:40 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:40 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 18:51:40 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 18:51:40 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:40 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:40 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 18:51:40 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 18:51:40 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 18:51:40 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 18:51:40 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:40 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:40 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 18:51:40 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 18:51:40 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 18:51:40 [http-nio-8181-exec-10] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:51:40 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 18:51:40 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 18:51:40 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:40 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 18:51:40 [http-nio-8181-exec-3] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:51:40 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 18:51:40 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 18:51:42 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:42 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:42 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:42 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 18:51:42 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 18:51:42 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 18:51:42 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:42 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 18:51:42 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 18:51:42 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 18:51:42 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 18:51:42 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 18:51:42 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:42 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:42 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 18:51:42 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 18:51:42 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 18:51:42 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 18:51:42 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 18:51:42 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 18:51:42 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:51:42 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 18:51:42 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 18:51:42 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:51:42 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108302590
2025-12-07 18:51:43 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:51:43 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/681/b1h5lrdf/websocket
2025-12-07 18:51:43 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=b1h5lrdf]
2025-12-07 18:51:43 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=b1h5lrdf
2025-12-07 18:51:43 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=b1h5lrdf
2025-12-07 18:51:47 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:47 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed PostController.getAllPosts
2025-12-07 18:51:47 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed PostController.getAllPosts
2025-12-07 18:51:47 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:47 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed PostController.getAllPosts
2025-12-07 18:51:47 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed PostController.getAllPosts
2025-12-07 18:51:49 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:49 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getBlockedUsers
2025-12-07 18:51:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserProfile
2025-12-07 18:51:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getBlockedUsers
2025-12-07 18:51:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserProfile
2025-12-07 18:51:49 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:49 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:49 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getBlockedUsers
2025-12-07 18:51:49 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserProfile
2025-12-07 18:51:49 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getBlockedUsers
2025-12-07 18:51:49 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserProfile
2025-12-07 18:51:49 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:49 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed PostController.getPostsByUser
2025-12-07 18:51:49 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed PostController.getPostsByUser
2025-12-07 18:51:49 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:49 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed PostController.getPostsByUser
2025-12-07 18:51:49 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:49 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed PostController.getPostsByUser
2025-12-07 18:51:49 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:51:49 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:51:49 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:51:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:51:52 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats [user:] - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 7, active threads = 1, queued tasks = 1, completed tasks = 3]
2025-12-07 18:51:53 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:53 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.createChat
2025-12-07 18:51:53 [http-nio-8181-exec-7] INFO  com.nix.controller.ChatController [user:] - Creating or getting chat for user Admin and test
2025-12-07 18:51:53 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.createChat
2025-12-07 18:51:53 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:53 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:51:53 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:51:53 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:51:53 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108313840
2025-12-07 18:51:53 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:51:53 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:51:53 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108313839
2025-12-07 18:51:53 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:53 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:51:53 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 18:51:53 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:51:53 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:51:53 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/907/e1mgy3z5/websocket
2025-12-07 18:51:53 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:51:53 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=e1mgy3z5]
2025-12-07 18:51:53 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 18:51:53 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=e1mgy3z5
2025-12-07 18:51:53 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:51:53 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 18:51:54 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/b4b09c9e-693e-4f8d-b1b2-d846bf46f99f/private id=sub-0 session=e1mgy3z5
2025-12-07 18:52:01 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=e1mgy3z5
2025-12-07 18:52:01 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=e1mgy3z5
2025-12-07 18:52:02 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:52:02 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:52:02 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:52:02 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=e1mgy3z5] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:52:02 [http-nio-8181-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session e1mgy3z5
2025-12-07 18:52:02 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=e1mgy3z5
2025-12-07 18:52:02 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=e1mgy3z5}], simpSessionId=e1mgy3z5}]
2025-12-07 18:52:09 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [e1mgy3z5]
2025-12-07 18:53:33 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:53:33 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:53:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 18:53:33 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed TagController.getAllTags
2025-12-07 18:53:33 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 18:53:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:53:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed TagController.getAllTags
2025-12-07 18:53:33 [http-nio-8181-exec-4] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:53:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:53:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:53:33 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:53:33 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:53:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 18:53:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:53:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 18:53:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:53:33 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:53:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:53:33 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:53:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:53:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:53:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:53:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:53:33 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 18:53:33 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:53:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:53:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:53:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:53:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:53:33 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:53:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:53:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:53:33 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:53:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:53:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:53:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 18:53:34 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:53:34 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108414539
2025-12-07 18:53:34 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:34 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:34 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:53:34 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:53:34 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:53:34 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/274/2dpeio5j/websocket
2025-12-07 18:53:34 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:53:34 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:53:34 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=2dpeio5j]
2025-12-07 18:53:34 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:53:34 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:34 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:53:34 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:34 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:53:34 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:53:34 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:53:34 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:53:35 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=2dpeio5j
2025-12-07 18:53:35 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=2dpeio5j
2025-12-07 18:53:40 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:53:40 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed PostController.getAllPosts
2025-12-07 18:53:40 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed PostController.getAllPosts
2025-12-07 18:53:40 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:53:40 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed PostController.getAllPosts
2025-12-07 18:53:40 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed PostController.getAllPosts
2025-12-07 18:53:47 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:47 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:53:47 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:53:47 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:47 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:53:47 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:53:56 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:56 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:53:56 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ImageController.uploadImage
2025-12-07 18:53:56 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=2dpeio5j
2025-12-07 18:53:56 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=2dpeio5j
2025-12-07 18:53:56 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=2dpeio5j] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:53:56 [http-nio-8181-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 2dpeio5j
2025-12-07 18:53:56 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=2dpeio5j
2025-12-07 18:53:56 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2dpeio5j}], simpSessionId=2dpeio5j}]
2025-12-07 18:54:04 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [2dpeio5j]
2025-12-07 18:54:13 [http-nio-8181-exec-8] DEBUG com.nix.service.ImageService [user:] - Processing image: contentType=image/jpeg, size=1021593
2025-12-07 18:54:14 [http-nio-8181-exec-8] DEBUG com.nix.service.ImageService [user:] - Original image dimensions: 684x1200
2025-12-07 18:54:15 [http-nio-8181-exec-8] DEBUG com.nix.service.ImageService [user:] - Converted image to RGB: 684x1200
2025-12-07 18:54:15 [http-nio-8181-exec-8] DEBUG com.nix.service.ImageService [user:] - Final dimensions: 615x1080
2025-12-07 18:54:15 [http-nio-8181-exec-8] DEBUG com.nix.service.ImageService [user:] - Calculated dimensions: 615x1080
2025-12-07 18:54:16 [http-nio-8181-exec-8] DEBUG com.nix.service.ImageService [user:] - Image processed successfully, output size: 48336
2025-12-07 18:54:16 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ImageController.uploadImage
2025-12-07 18:54:16 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed PostController.getAllPosts
2025-12-07 18:54:16 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed PostController.getAllPosts
2025-12-07 18:54:16 [http-nio-8181-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 18:54:18 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed TagController.getAllTags
2025-12-07 18:54:18 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed CategoryController.getAllCategories
2025-12-07 18:54:18 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed PostController.getAllPosts
2025-12-07 18:54:18 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed TagController.getAllTags
2025-12-07 18:54:18 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed PostController.getAllPosts
2025-12-07 18:54:18 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed PostController.getAllPosts
2025-12-07 18:54:18 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed PostController.getAllPosts
2025-12-07 18:54:18 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed CategoryController.getAllCategories
2025-12-07 18:54:21 [http-nio-8181-exec-10] DEBUG c.n.config.AuthRateLimitInterceptor [user:] - Using remote address: 0:0:0:0:0:0:0:1
2025-12-07 18:54:21 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser accessed AuthController.login
2025-12-07 18:54:21 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymousUser completed AuthController.login
2025-12-07 18:54:21 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:21 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:54:21 [http-nio-8181-exec-9] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:54:21 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:54:21 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:21 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:21 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:21 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:21 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:21 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:21 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:54:21 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:54:21 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:54:21 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:54:21 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 18:54:21 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 18:54:21 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:54:21 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:54:22 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:21 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:54:22 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:54:22 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:54:22 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 18:54:22 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:54:22 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:54:22 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108461966
2025-12-07 18:54:22 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 18:54:22 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:54:22 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:22 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:54:22 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:54:22 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:22 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:54:22 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:54:22 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:54:22 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/082/sqsjpkvo/websocket
2025-12-07 18:54:22 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=sqsjpkvo]
2025-12-07 18:54:22 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:54:23 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=sqsjpkvo
2025-12-07 18:54:23 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=sqsjpkvo
2025-12-07 18:54:24 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:24 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:54:24 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:54:24 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:24 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:54:24 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:54:32 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:32 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ImageController.uploadImage
2025-12-07 18:54:40 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Processing image: contentType=image/jpeg, size=1021593
2025-12-07 18:54:40 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Original image dimensions: 684x1200
2025-12-07 18:54:40 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Converted image to RGB: 684x1200
2025-12-07 18:54:40 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Final dimensions: 615x1080
2025-12-07 18:54:40 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Calculated dimensions: 615x1080
2025-12-07 18:54:40 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Image processed successfully, output size: 48336
2025-12-07 18:54:40 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ImageController.uploadImage
2025-12-07 18:54:40 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:40 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.createPost
2025-12-07 18:54:40 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.createPost
2025-12-07 18:54:40 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:54:40 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:54:41 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:55:22 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:22 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:22 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:22 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserProfile
2025-12-07 18:55:22 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:55:22 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getBlockedUsers
2025-12-07 18:55:22 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:55:22 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getBlockedUsers
2025-12-07 18:55:22 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:55:22 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserProfile
2025-12-07 18:55:22 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:22 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:22 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:22 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getBlockedUsers
2025-12-07 18:55:22 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:55:22 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserProfile
2025-12-07 18:55:22 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:55:22 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getBlockedUsers
2025-12-07 18:55:22 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserProfile
2025-12-07 18:55:22 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:55:23 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:23 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed PostController.getPostsByUser
2025-12-07 18:55:23 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed PostController.getPostsByUser
2025-12-07 18:55:23 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:23 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed PostController.getPostsByUser
2025-12-07 18:55:23 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:23 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:55:23 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed PostController.getPostsByUser
2025-12-07 18:55:23 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:55:23 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:23 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:55:23 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:55:24 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:24 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:55:24 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:55:24 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:55:24 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:24 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:55:24 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 18:55:24 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:55:24 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108524251
2025-12-07 18:55:24 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108524250
2025-12-07 18:55:24 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:24 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:55:24 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 18:55:24 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 18:55:24 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:55:24 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:55:24 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:55:24 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/235/3cobc2h5/websocket
2025-12-07 18:55:24 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=3cobc2h5]
2025-12-07 18:55:24 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=3cobc2h5
2025-12-07 18:55:24 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=3cobc2h5
2025-12-07 18:55:27 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=3cobc2h5
2025-12-07 18:55:27 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=3cobc2h5
2025-12-07 18:55:27 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:27 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:55:27 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:55:27 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=3cobc2h5] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:55:27 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 3cobc2h5
2025-12-07 18:55:27 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=3cobc2h5
2025-12-07 18:55:27 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3cobc2h5}], simpSessionId=3cobc2h5}]
2025-12-07 18:55:29 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:29 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:55:29 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:55:29 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:55:29 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:55:29 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:29 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108529610
2025-12-07 18:55:29 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 18:55:29 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:29 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 18:55:29 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:55:29 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108529610
2025-12-07 18:55:29 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 18:55:29 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 18:55:29 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 18:55:29 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 18:55:29 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:55:29 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/141/fnyuieat/websocket
2025-12-07 18:55:29 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=fnyuieat]
2025-12-07 18:55:29 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=fnyuieat
2025-12-07 18:55:29 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/b4b09c9e-693e-4f8d-b1b2-d846bf46f99f/private id=sub-0 session=fnyuieat
2025-12-07 18:55:30 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=fnyuieat
2025-12-07 18:55:30 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/b4b09c9e-693e-4f8d-b1b2-d846bf46f99f/private id=sub-1 session=fnyuieat
2025-12-07 18:55:30 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:30 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 18:55:30 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 18:55:30 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 18:55:34 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [3cobc2h5]
2025-12-07 18:55:34 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=fnyuieat
2025-12-07 18:55:34 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=fnyuieat
2025-12-07 18:55:34 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 18:55:34 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:55:34 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:55:34 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=fnyuieat] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:55:34 [http-nio-8181-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session fnyuieat
2025-12-07 18:55:34 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=fnyuieat
2025-12-07 18:55:34 [ws-task-scheduler-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=fnyuieat}], simpSessionId=fnyuieat}]
2025-12-07 18:55:44 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [fnyuieat]
2025-12-07 18:55:47 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:47 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed PostController.getAllPosts
2025-12-07 18:55:47 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed PostController.getAllPosts
2025-12-07 18:55:47 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:47 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed PostController.getAllPosts
2025-12-07 18:55:48 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed PostController.getAllPosts
2025-12-07 18:55:49 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 18:55:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getBlockedUsers
2025-12-07 18:55:49 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserProfile
2025-12-07 18:55:49 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 18:55:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getBlockedUsers
2025-12-07 18:55:49 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserProfile
2025-12-07 18:55:49 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 18:55:49 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getBlockedUsers
2025-12-07 18:55:49 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserProfile
2025-12-07 18:55:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 18:55:49 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getBlockedUsers
2025-12-07 18:55:49 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 18:55:49 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserProfile
2025-12-07 18:55:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 18:55:49 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed PostController.getPostsByUser
2025-12-07 18:55:49 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed PostController.getPostsByUser
2025-12-07 18:55:49 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed PostController.getPostsByUser
2025-12-07 18:55:49 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:55:49 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed PostController.getPostsByUser
2025-12-07 18:55:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:55:49 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:49 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:55:49 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:55:51 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:55:51 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.blockUser
2025-12-07 18:55:51 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.blockUser
2025-12-07 18:55:57 [http-nio-8181-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 18:55:57 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:55:57 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:55:57 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:55:59 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=sqsjpkvo] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:55:59 [http-nio-8181-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session sqsjpkvo
2025-12-07 18:55:59 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=sqsjpkvo
2025-12-07 18:55:59 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=sqsjpkvo}], simpSessionId=sqsjpkvo}]
2025-12-07 18:56:00 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed TagController.getAllTags
2025-12-07 18:56:00 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:56:00 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed TagController.getAllTags
2025-12-07 18:56:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 18:56:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 18:56:00 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:56:00 [http-nio-8181-exec-3] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:56:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:56:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:56:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:56:00 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:56:00 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:56:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:56:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 18:56:00 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:56:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 18:56:00 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:56:00 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:56:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:56:00 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 18:56:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:56:00 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:56:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:00 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 18:56:00 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:56:00 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:00 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:56:00 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:56:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 18:56:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 18:56:00 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:00 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108560618
2025-12-07 18:56:00 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:00 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:00 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:00 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/651/3j5dogwn/websocket
2025-12-07 18:56:00 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=3j5dogwn]
2025-12-07 18:56:00 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:00 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:00 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=3j5dogwn
2025-12-07 18:56:00 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=3j5dogwn
2025-12-07 18:56:02 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:02 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:02 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:02 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:02 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:02 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:04 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:56:04 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.unblockUser
2025-12-07 18:56:04 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.unblockUser
2025-12-07 18:56:06 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=3j5dogwn] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:56:06 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 3j5dogwn
2025-12-07 18:56:06 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=3j5dogwn
2025-12-07 18:56:06 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3j5dogwn}], simpSessionId=3j5dogwn}]
2025-12-07 18:56:06 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:06 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:06 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:06 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed TagController.getAllTags
2025-12-07 18:56:06 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:06 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:06 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:56:06 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:56:06 [http-nio-8181-exec-3] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:56:06 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed TagController.getAllTags
2025-12-07 18:56:06 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:56:06 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:06 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:56:06 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:06 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:56:06 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:56:06 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:06 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:06 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:06 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:56:07 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:07 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:07 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:07 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:07 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:07 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:07 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:56:07 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:07 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:07 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:07 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:56:07 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:07 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:07 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108567134
2025-12-07 18:56:07 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:07 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:07 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:07 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:07 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:07 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:56:07 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:07 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:07 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:07 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:07 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:56:07 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:07 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:07 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:07 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/625/wygvn3g3/websocket
2025-12-07 18:56:07 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=wygvn3g3]
2025-12-07 18:56:07 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:07 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=wygvn3g3
2025-12-07 18:56:07 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=wygvn3g3
2025-12-07 18:56:09 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [sqsjpkvo]
2025-12-07 18:56:14 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [3j5dogwn]
2025-12-07 18:56:17 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 18:56:17 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 18:56:17 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 18:56:19 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=wygvn3g3] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:56:19 [http-nio-8181-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session wygvn3g3
2025-12-07 18:56:19 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=wygvn3g3
2025-12-07 18:56:19 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=wygvn3g3}], simpSessionId=wygvn3g3}]
2025-12-07 18:56:19 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:19 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:56:19 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed TagController.getAllTags
2025-12-07 18:56:19 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:56:19 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed TagController.getAllTags
2025-12-07 18:56:19 [http-nio-8181-exec-8] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:56:19 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:56:19 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:19 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:56:19 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:56:19 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:56:19 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:19 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:56:19 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:19 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:56:19 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:19 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:19 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:19 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:19 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:19 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:19 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:56:19 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:19 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:19 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:56:19 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:19 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:19 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:19 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:19 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getAllPosts
2025-12-07 18:56:19 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:56:19 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:19 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getAllPosts
2025-12-07 18:56:19 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:19 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108579864
2025-12-07 18:56:20 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:20 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/402/juusnbok/websocket
2025-12-07 18:56:20 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=juusnbok]
2025-12-07 18:56:20 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=juusnbok
2025-12-07 18:56:20 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=juusnbok
2025-12-07 18:56:21 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:21 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserProfile
2025-12-07 18:56:21 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getBlockedUsers
2025-12-07 18:56:21 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:21 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:21 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getBlockedUsers
2025-12-07 18:56:21 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserProfile
2025-12-07 18:56:21 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:21 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getBlockedUsers
2025-12-07 18:56:21 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserProfile
2025-12-07 18:56:21 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:21 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:21 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getBlockedUsers
2025-12-07 18:56:21 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserProfile
2025-12-07 18:56:21 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getPostsByUser
2025-12-07 18:56:21 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getPostsByUser
2025-12-07 18:56:21 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed PostController.getPostsByUser
2025-12-07 18:56:21 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:56:21 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:56:21 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed PostController.getPostsByUser
2025-12-07 18:56:21 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:21 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:56:21 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed AuthorDashboardController.searchAuthorBooks
2025-12-07 18:56:22 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:22 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:22 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:22 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 18:56:22 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:56:22 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 18:56:22 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:56:22 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 18:56:22 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 18:56:24 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [wygvn3g3]
2025-12-07 18:56:24 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getBookById
2025-12-07 18:56:24 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getBookById
2025-12-07 18:56:24 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getBookById
2025-12-07 18:56:24 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:24 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getBookById
2025-12-07 18:56:24 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:24 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:24 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getAverageBookRating
2025-12-07 18:56:24 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:24 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getRatingByBookAndUser
2025-12-07 18:56:24 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getAverageBookRating
2025-12-07 18:56:24 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:24 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:24 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getRatingByBookAndUser
2025-12-07 18:56:24 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:24 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getAverageBookRating
2025-12-07 18:56:24 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getRatingByBookAndUser
2025-12-07 18:56:24 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getAverageBookRating
2025-12-07 18:56:24 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:24 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.recordBookView
2025-12-07 18:56:24 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getRelatedBooks
2025-12-07 18:56:24 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getRatingByBookAndUser
2025-12-07 18:56:24 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.recordBookView
2025-12-07 18:56:24 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getRelatedBooks
2025-12-07 18:56:24 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserProfile
2025-12-07 18:56:24 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserProfile
2025-12-07 18:56:24 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserProfile
2025-12-07 18:56:24 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserProfile
2025-12-07 18:56:24 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:24 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.recordBookView
2025-12-07 18:56:24 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getRelatedBooks
2025-12-07 18:56:24 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.recordBookView
2025-12-07 18:56:24 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getRelatedBooks
2025-12-07 18:56:25 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:25 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CommentController.getPagerBookComments
2025-12-07 18:56:25 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CommentController.getPagerBookComments
2025-12-07 18:56:25 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:25 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CommentController.getPagerBookComments
2025-12-07 18:56:25 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CommentController.getPagerBookComments
2025-12-07 18:56:29 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:29 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.followUser
2025-12-07 18:56:29 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.followUser
2025-12-07 18:56:32 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=juusnbok] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:56:32 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session juusnbok
2025-12-07 18:56:32 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=juusnbok
2025-12-07 18:56:32 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=juusnbok}], simpSessionId=juusnbok}]
2025-12-07 18:56:32 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:56:32 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed TagController.getAllTags
2025-12-07 18:56:32 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:56:32 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getBookById
2025-12-07 18:56:32 [http-nio-8181-exec-9] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:56:32 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed TagController.getAllTags
2025-12-07 18:56:32 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:56:32 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getBookById
2025-12-07 18:56:32 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getBookById
2025-12-07 18:56:32 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 18:56:32 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 18:56:32 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 18:56:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getBookById
2025-12-07 18:56:32 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:32 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:56:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:32 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:56:32 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:32 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 18:56:32 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:32 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getBookById
2025-12-07 18:56:32 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:32 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:32 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:32 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:56:32 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getBookById
2025-12-07 18:56:32 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:32 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:56:32 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:32 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:32 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:32 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:56:32 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:32 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getBookById
2025-12-07 18:56:32 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getBookById
2025-12-07 18:56:32 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 18:56:32 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 18:56:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getBookById
2025-12-07 18:56:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 18:56:33 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getBookById
2025-12-07 18:56:33 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:33 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108593050
2025-12-07 18:56:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:33 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:33 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/019/xvryaoly/websocket
2025-12-07 18:56:33 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=xvryaoly]
2025-12-07 18:56:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:33 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 18:56:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChapterController.getAllChaptersByBookId
2025-12-07 18:56:33 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getRatingByBookAndUser
2025-12-07 18:56:33 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 18:56:33 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getRatingByBookAndUser
2025-12-07 18:56:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:33 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getRatingByBookAndUser
2025-12-07 18:56:33 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=xvryaoly
2025-12-07 18:56:33 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getRatingByBookAndUser
2025-12-07 18:56:33 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getAverageBookRating
2025-12-07 18:56:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed RatingController.getRatingByBookAndUser
2025-12-07 18:56:33 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUserAndBook
2025-12-07 18:56:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed RatingController.getRatingByBookAndUser
2025-12-07 18:56:33 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=xvryaoly
2025-12-07 18:56:33 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.recordBookView
2025-12-07 18:56:33 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserProfile
2025-12-07 18:56:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getRelatedBooks
2025-12-07 18:56:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserProfile
2025-12-07 18:56:33 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserProfile
2025-12-07 18:56:33 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserProfile
2025-12-07 18:56:33 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CommentController.getPagerBookComments
2025-12-07 18:56:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CommentController.getPagerBookComments
2025-12-07 18:56:34 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:34 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CommentController.getPagerBookComments
2025-12-07 18:56:34 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CommentController.getPagerBookComments
2025-12-07 18:56:37 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:37 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.createChat
2025-12-07 18:56:37 [http-nio-8181-exec-7] INFO  com.nix.controller.ChatController [user:] - Creating or getting chat for user johntest and test
2025-12-07 18:56:37 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.createChat
2025-12-07 18:56:37 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:37 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:37 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:37 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:37 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:37 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108597246
2025-12-07 18:56:37 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:37 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getChatMessages
2025-12-07 18:56:37 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:37 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:37 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108597246
2025-12-07 18:56:37 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:37 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:37 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: johntest
2025-12-07 18:56:37 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:37 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:37 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getChatMessages
2025-12-07 18:56:37 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/152/0thcnxpe/websocket
2025-12-07 18:56:37 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=0thcnxpe]
2025-12-07 18:56:37 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=0thcnxpe
2025-12-07 18:56:37 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-0 session=0thcnxpe
2025-12-07 18:56:39 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [juusnbok]
2025-12-07 18:56:47 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=0thcnxpe
2025-12-07 18:56:47 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=0thcnxpe
2025-12-07 18:56:47 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:47 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:47 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=0thcnxpe] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:56:47 [http-nio-8181-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 0thcnxpe
2025-12-07 18:56:47 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:56:47 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 18:56:47 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:47 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=0thcnxpe
2025-12-07 18:56:47 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=0thcnxpe}], simpSessionId=0thcnxpe}]
2025-12-07 18:56:47 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 18:56:47 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:56:47 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 18:56:47 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 18:56:49 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:49 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:49 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:49 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:49 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108609691
2025-12-07 18:56:49 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108609692
2025-12-07 18:56:49 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:49 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getChatMessages
2025-12-07 18:56:49 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:49 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:56:49 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 18:56:49 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/337/2abyx10i/websocket
2025-12-07 18:56:49 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: johntest
2025-12-07 18:56:49 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=2abyx10i]
2025-12-07 18:56:49 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getChatMessages
2025-12-07 18:56:49 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 18:56:49 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=2abyx10i
2025-12-07 18:56:49 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 18:56:49 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-0 session=2abyx10i
2025-12-07 18:56:51 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=2abyx10i
2025-12-07 18:56:51 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=2abyx10i
2025-12-07 18:56:51 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 18:56:51 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 18:56:51 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 18:56:51 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=2abyx10i] closed with CloseStatus[code=1000, reason=null]
2025-12-07 18:56:51 [http-nio-8181-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 2abyx10i
2025-12-07 18:56:51 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=2abyx10i
2025-12-07 18:56:51 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2abyx10i}], simpSessionId=2abyx10i}]
2025-12-07 18:56:54 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [0thcnxpe]
2025-12-07 18:56:59 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [2abyx10i]
2025-12-07 18:57:03 [ws-task-scheduler-10] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session xuihy0te with CloseStatus[code=1002, reason=null]
2025-12-07 18:57:03 [ws-task-scheduler-10] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=f6d98904-131b-b4be-f298-f64f4da31494, uri=ws://localhost:8181/ws/521/xuihy0te/websocket]
2025-12-07 18:57:03 [ws-task-scheduler-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=xuihy0te] closed with CloseStatus[code=1002, reason=null]
2025-12-07 18:57:03 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session xuihy0te
2025-12-07 18:57:03 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=xuihy0te
2025-12-07 18:57:03 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xuihy0te}], simpSessionId=xuihy0te}]
2025-12-07 18:57:09 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [xuihy0te]
2025-12-07 18:59:53 [ws-task-scheduler-8] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session xvryaoly with CloseStatus[code=1002, reason=null]
2025-12-07 18:59:53 [ws-task-scheduler-8] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=04ff503a-6f2d-89a0-23eb-bd86abf3fb72, uri=ws://localhost:8181/ws/019/xvryaoly/websocket]
2025-12-07 18:59:53 [ws-task-scheduler-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=xvryaoly] closed with CloseStatus[code=1002, reason=null]
2025-12-07 18:59:53 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session xvryaoly
2025-12-07 18:59:53 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=xvryaoly
2025-12-07 18:59:53 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xvryaoly}], simpSessionId=xvryaoly}]
2025-12-07 18:59:59 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [xvryaoly]
2025-12-07 18:59:59 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:59:59 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765108799348
2025-12-07 18:59:59 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@244c1208
2025-12-07 18:59:59 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/211/2yylczda/websocket
2025-12-07 18:59:59 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=2yylczda]
2025-12-07 18:59:59 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=2yylczda
2025-12-07 18:59:59 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=2yylczda
2025-12-07 19:00:27 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [user:] - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session 2yylczda with CloseStatus[code=1001, reason=null]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=8386bf66-33df-ec1f-4526-0412d0e9f0b1, uri=ws://localhost:8181/ws/211/2yylczda/websocket]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=2yylczda] closed with CloseStatus[code=1001, reason=null]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 2yylczda
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=2yylczda
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session b1h5lrdf with CloseStatus[code=1001, reason=null]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=07fc087c-5496-208e-826f-7eabb93f810c, uri=ws://localhost:8181/ws/681/b1h5lrdf/websocket]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=b1h5lrdf] closed with CloseStatus[code=1001, reason=null]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session b1h5lrdf
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=b1h5lrdf
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 19:00:27 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopping...
2025-12-07 19:00:27 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11e7a8af]]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11e7a8af]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11e7a8af]
2025-12-07 19:00:27 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopped.
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:27 [Thread-5] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:28 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 19:00:28 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Shutdown initiated...
2025-12-07 19:00:28 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-1 - Shutdown completed.
2025-12-07 19:00:28 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Starting BookSocialApplication using Java 17.0.12 with PID 6988 (C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy\target\classes started by LENOVO in C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy)
2025-12-07 19:00:28 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - No active profile set, falling back to 1 default profile: "default"
2025-12-07 19:00:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-07 19:00:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Finished Spring Data repository scanning in 81 ms. Found 27 JPA repository interfaces.
2025-12-07 19:00:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat initialized with port 8181 (http)
2025-12-07 19:00:29 [restartedMain] INFO  o.a.catalina.core.StandardService [user:] - Starting service [Tomcat]
2025-12-07 19:00:29 [restartedMain] INFO  o.a.catalina.core.StandardEngine [user:] - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-12-07 19:00:29 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring embedded WebApplicationContext
2025-12-07 19:00:29 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext [user:] - Root WebApplicationContext: initialization completed in 816 ms
2025-12-07 19:00:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper [user:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-07 19:00:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator [user:] - HHH000026: Second-level cache disabled
2025-12-07 19:00:29 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo [user:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-07 19:00:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-2 - Starting...
2025-12-07 19:00:29 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool [user:] - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5701118f
2025-12-07 19:00:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-2 - Start completed.
2025-12-07 19:00:29 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-07 19:00:29 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-12-07 19:00:30 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [user:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-07 19:00:31 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 19:00:31 [restartedMain] DEBUG com.nix.config.JwtValidator [user:] - Filter 'jwtValidator' configured for use
2025-12-07 19:00:33 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [user:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-07 19:00:33 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [user:] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-12-07 19:00:33 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-12-07 19:00:34 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver [user:] - Exposing 2 endpoints beneath base path '/actuator'
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AdminController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthorDashboardController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.BookController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CategoryController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChapterController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChatController:
	{[MESSAGE],[/chat/{groupId}]}: sendToUser(MessageDTO,String)
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CommentController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CreditPackageController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ImageController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.LogController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.NotificationController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PaymentController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PostController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ProgressController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PurchaseController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RatingController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ReportController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RoleController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.SensitiveWordController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.TagController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.UserController:
	
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-12-07 19:00:34 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer [user:] - LiveReload server is running on port 35729
2025-12-07 19:00:34 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat started on port 8181 (http) with context path '/'
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 19:00:34 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Starting...
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75e8ec9f]
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75e8ec9f]
2025-12-07 19:00:34 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75e8ec9f]]
2025-12-07 19:00:34 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Started.
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:34 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:34 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Started BookSocialApplication in 6.097 seconds (process running for 597.014)
2025-12-07 19:00:34 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [user:] - Condition evaluation unchanged
2025-12-07 19:00:35 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [user:] - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-12-07 19:00:35 [Thread-8] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 19:00:35 [Thread-8] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 19:00:35 [Thread-8] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopping...
2025-12-07 19:00:35 [Thread-8] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75e8ec9f]]
2025-12-07 19:00:35 [Thread-8] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75e8ec9f]
2025-12-07 19:00:35 [Thread-8] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75e8ec9f]
2025-12-07 19:00:35 [Thread-8] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopped.
2025-12-07 19:00:35 [Thread-8] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:35 [Thread-8] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:36 [Thread-8] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 19:00:36 [Thread-8] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-2 - Shutdown initiated...
2025-12-07 19:00:36 [Thread-8] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-2 - Shutdown completed.
2025-12-07 19:00:36 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Starting BookSocialApplication using Java 17.0.12 with PID 6988 (C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy\target\classes started by LENOVO in C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy)
2025-12-07 19:00:36 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - No active profile set, falling back to 1 default profile: "default"
2025-12-07 19:00:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-07 19:00:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Finished Spring Data repository scanning in 176 ms. Found 27 JPA repository interfaces.
2025-12-07 19:00:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat initialized with port 8181 (http)
2025-12-07 19:00:37 [restartedMain] INFO  o.a.catalina.core.StandardService [user:] - Starting service [Tomcat]
2025-12-07 19:00:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine [user:] - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-12-07 19:00:37 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring embedded WebApplicationContext
2025-12-07 19:00:37 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext [user:] - Root WebApplicationContext: initialization completed in 858 ms
2025-12-07 19:00:37 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper [user:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-07 19:00:37 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator [user:] - HHH000026: Second-level cache disabled
2025-12-07 19:00:37 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo [user:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-07 19:00:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-3 - Starting...
2025-12-07 19:00:37 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool [user:] - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33ff397e
2025-12-07 19:00:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-3 - Start completed.
2025-12-07 19:00:37 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-07 19:00:37 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-12-07 19:00:38 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [user:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-07 19:00:38 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 19:00:39 [restartedMain] DEBUG com.nix.config.JwtValidator [user:] - Filter 'jwtValidator' configured for use
2025-12-07 19:00:40 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [user:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-07 19:00:40 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [user:] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-12-07 19:00:40 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver [user:] - Exposing 2 endpoints beneath base path '/actuator'
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AdminController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthorDashboardController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.BookController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CategoryController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChapterController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChatController:
	{[MESSAGE],[/chat/{groupId}]}: sendToUser(MessageDTO,String)
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CommentController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CreditPackageController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ImageController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.LogController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.NotificationController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PaymentController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PostController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ProgressController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PurchaseController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RatingController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ReportController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RoleController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.SensitiveWordController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.TagController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.UserController:
	
2025-12-07 19:00:40 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-12-07 19:00:41 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer [user:] - LiveReload server is running on port 35729
2025-12-07 19:00:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat started on port 8181 (http) with context path '/'
2025-12-07 19:00:41 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 19:00:41 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 19:00:41 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Starting...
2025-12-07 19:00:41 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@569ff154]
2025-12-07 19:00:41 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@569ff154]
2025-12-07 19:00:41 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@569ff154]]
2025-12-07 19:00:41 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Started.
2025-12-07 19:00:41 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:41 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:41 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Started BookSocialApplication in 4.249 seconds (process running for 603.592)
2025-12-07 19:00:41 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [user:] - Condition evaluation unchanged
2025-12-07 19:00:54 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [user:] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-07 19:00:54 [Thread-12] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 19:00:54 [Thread-12] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 19:00:54 [Thread-12] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopping...
2025-12-07 19:00:54 [Thread-12] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@569ff154]]
2025-12-07 19:00:54 [Thread-12] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@569ff154]
2025-12-07 19:00:54 [Thread-12] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@569ff154]
2025-12-07 19:00:54 [Thread-12] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopped.
2025-12-07 19:00:54 [Thread-12] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:54 [Thread-12] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:54 [Thread-12] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 19:00:54 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-3 - Shutdown initiated...
2025-12-07 19:00:54 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-3 - Shutdown completed.
2025-12-07 19:00:54 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Starting BookSocialApplication using Java 17.0.12 with PID 6988 (C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy\target\classes started by LENOVO in C:\Users\LENOVO\Documents\workspace-spring-tool-suite-4-4.22.1.RELEASE\book-social - Copy)
2025-12-07 19:00:54 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - No active profile set, falling back to 1 default profile: "default"
2025-12-07 19:00:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-07 19:00:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate [user:] - Finished Spring Data repository scanning in 110 ms. Found 27 JPA repository interfaces.
2025-12-07 19:00:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat initialized with port 8181 (http)
2025-12-07 19:00:55 [restartedMain] INFO  o.a.catalina.core.StandardService [user:] - Starting service [Tomcat]
2025-12-07 19:00:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine [user:] - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-12-07 19:00:55 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring embedded WebApplicationContext
2025-12-07 19:00:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext [user:] - Root WebApplicationContext: initialization completed in 721 ms
2025-12-07 19:00:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper [user:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-07 19:00:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator [user:] - HHH000026: Second-level cache disabled
2025-12-07 19:00:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo [user:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-07 19:00:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-4 - Starting...
2025-12-07 19:00:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool [user:] - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@140bf5bb
2025-12-07 19:00:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-4 - Start completed.
2025-12-07 19:00:55 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-07 19:00:55 [restartedMain] WARN  org.hibernate.orm.deprecation [user:] - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-12-07 19:00:56 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [user:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-07 19:00:56 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 19:00:56 [restartedMain] DEBUG com.nix.config.JwtValidator [user:] - Filter 'jwtValidator' configured for use
2025-12-07 19:00:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [user:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-07 19:00:58 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [user:] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-12-07 19:00:58 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver [user:] - Exposing 2 endpoints beneath base path '/actuator'
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AdminController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.AuthorDashboardController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.BookController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CategoryController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChapterController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ChatController:
	{[MESSAGE],[/chat/{groupId}]}: sendToUser(MessageDTO,String)
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CommentController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.CreditPackageController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ImageController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.LogController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.NotificationController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PaymentController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PostController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ProgressController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.PurchaseController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RatingController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.ReportController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.RoleController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.SensitiveWordController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.TagController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	c.n.c.UserController:
	
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-12-07 19:00:58 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer [user:] - LiveReload server is running on port 35729
2025-12-07 19:00:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer [user:] - Tomcat started on port 8181 (http) with context path '/'
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 19:00:58 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Starting...
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16f40be6]
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16f40be6]
2025-12-07 19:00:58 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16f40be6]]
2025-12-07 19:00:58 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Started.
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:58 [restartedMain] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:00:58 [restartedMain] INFO  com.nix.BookSocialApplication [user:] - Started BookSocialApplication in 3.925 seconds (process running for 621.366)
2025-12-07 19:00:58 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [user:] - Condition evaluation unchanged
2025-12-07 19:01:58 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats [user:] - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-12-07 19:05:44 [http-nio-8181-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] [user:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-07 19:05:44 [http-nio-8181-exec-1] INFO  o.s.web.servlet.DispatcherServlet [user:] - Initializing Servlet 'dispatcherServlet'
2025-12-07 19:05:44 [http-nio-8181-exec-1] INFO  o.s.web.servlet.DispatcherServlet [user:] - Completed initialization in 6 ms
2025-12-07 19:05:44 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:05:44 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed TagController.getAllTags
2025-12-07 19:05:44 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:05:44 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:05:44 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:05:44 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:05:44 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:05:44 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed TagController.getAllTags
2025-12-07 19:05:44 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 19:05:44 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:05:44 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:05:44 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:05:44 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 19:05:44 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:05:44 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:05:44 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:05:44 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:05:44 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:05:44 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 19:05:44 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 19:05:44 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 19:05:44 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 19:05:44 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:05:44 [http-nio-8181-exec-4] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:05:44 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:05:44 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:05:44 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:44 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:05:44 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:05:44 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 19:05:44 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:05:44 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 19:05:44 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:05:45 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:45 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:05:45 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:45 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 19:05:45 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 19:05:45 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:05:45 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:45 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:05:45 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:45 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:45 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:05:45 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:05:45 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:05:45 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:05:45 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:05:45 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:45 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:05:45 [http-nio-8181-exec-10] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:05:45 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:05:45 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:45 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:05:45 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:05:45 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:05:47 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:47 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:47 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:47 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:05:47 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:05:47 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:05:47 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:47 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:05:47 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:05:47 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:05:47 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:05:47 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:05:47 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:05:47 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:47 [http-nio-8181-exec-8] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier [user:] - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-12-07 19:05:47 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:05:47 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:47 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:05:47 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:05:47 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:05:47 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:05:47 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:05:47 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:05:47 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:05:47 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:05:47 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109147559
2025-12-07 19:05:48 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:05:48 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/957/k4pohdke/websocket
2025-12-07 19:05:48 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=k4pohdke]
2025-12-07 19:05:48 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=k4pohdke
2025-12-07 19:05:48 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=k4pohdke
2025-12-07 19:05:49 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:05:49 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:05:49 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:05:49 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:05:49 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:05:49 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:05:49 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:05:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:05:49 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:05:49 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:05:49 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:05:49 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:05:49 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:05:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:05:49 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:05:49 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:05:49 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:05:49 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109149466
2025-12-07 19:05:49 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:05:49 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:05:49 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:05:49 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:05:49 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:05:49 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:05:49 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:05:49 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:05:49 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:05:49 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:05:49 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:05:49 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:05:49 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:05:49 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:05:49 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:05:49 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:05:49 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:05:49 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:05:49 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109149724
2025-12-07 19:05:50 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:05:50 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/070/k5xx3t05/websocket
2025-12-07 19:05:50 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=k5xx3t05]
2025-12-07 19:05:50 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=k5xx3t05
2025-12-07 19:05:50 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=k5xx3t05
2025-12-07 19:05:50 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:05:50 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/160/qq53grkv/websocket
2025-12-07 19:05:50 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=qq53grkv]
2025-12-07 19:05:50 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=qq53grkv
2025-12-07 19:05:50 [http-nio-8181-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 19:05:50 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=qq53grkv
2025-12-07 19:06:18 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:06:18 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:06:18 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:06:18 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:06:18 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:06:18 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:06:18 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:06:18 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:06:18 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:06:18 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:06:18 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:06:18 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:07:19 [ws-task-scheduler-2] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session qq53grkv with CloseStatus[code=1002, reason=null]
2025-12-07 19:07:19 [ws-task-scheduler-9] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session k4pohdke with CloseStatus[code=1002, reason=null]
2025-12-07 19:07:19 [ws-task-scheduler-8] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session k5xx3t05 with CloseStatus[code=1002, reason=null]
2025-12-07 19:07:19 [ws-task-scheduler-2] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=e1a22e01-7556-e820-e526-f353b169a84c, uri=ws://localhost:8181/ws/160/qq53grkv/websocket]
2025-12-07 19:07:19 [ws-task-scheduler-9] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=8abb1c8e-9cc8-5dcf-9833-ee107c3e5e2f, uri=ws://localhost:8181/ws/957/k4pohdke/websocket]
2025-12-07 19:07:19 [ws-task-scheduler-8] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=0adf2ab0-d9af-3548-037c-d783b04f7e1f, uri=ws://localhost:8181/ws/070/k5xx3t05/websocket]
2025-12-07 19:07:19 [ws-task-scheduler-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=qq53grkv] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:07:19 [ws-task-scheduler-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=k4pohdke] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:07:19 [ws-task-scheduler-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=k5xx3t05] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:07:19 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session qq53grkv
2025-12-07 19:07:19 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session k4pohdke
2025-12-07 19:07:19 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session k5xx3t05
2025-12-07 19:07:19 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=k4pohdke
2025-12-07 19:07:19 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=qq53grkv
2025-12-07 19:07:19 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=k5xx3t05
2025-12-07 19:07:19 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=k4pohdke}], simpSessionId=k4pohdke}]
2025-12-07 19:07:19 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=qq53grkv}], simpSessionId=qq53grkv}]
2025-12-07 19:07:19 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=k5xx3t05}], simpSessionId=k5xx3t05}]
2025-12-07 19:07:28 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 3 sessions: [k5xx3t05, qq53grkv, k4pohdke]
2025-12-07 19:10:46 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:46 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:46 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:46 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:10:46 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 19:10:46 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:46 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 19:10:46 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:46 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:10:46 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:46 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:10:46 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 19:10:46 [http-nio-8181-exec-5] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:10:46 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 19:10:46 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:10:46 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:10:46 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:46 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:10:46 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:10:46 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:10:46 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 19:10:46 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 19:10:46 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:10:47 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:47 [http-nio-8181-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 19:10:47 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:47 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:47 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:47 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:10:47 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:10:47 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:10:47 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:10:47 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:10:47 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:10:47 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:10:47 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:47 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:10:47 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:10:47 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:47 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:10:47 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:10:47 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:10:47 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:10:47 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:47 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:10:47 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:10:47 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:10:47 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:10:47 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109447324
2025-12-07 19:10:47 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:10:47 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/929/sqn3qhoj/websocket
2025-12-07 19:10:47 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=sqn3qhoj]
2025-12-07 19:10:48 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=sqn3qhoj
2025-12-07 19:10:48 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=sqn3qhoj
2025-12-07 19:10:50 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:50 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:10:50 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:10:50 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:10:50 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:10:50 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109450027
2025-12-07 19:10:50 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:50 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:50 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:10:50 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:10:50 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:10:50 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:10:50 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109450028
2025-12-07 19:10:50 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:10:50 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:10:50 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:10:50 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:10:50 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/429/4wf2hqoq/websocket
2025-12-07 19:10:50 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=4wf2hqoq]
2025-12-07 19:10:50 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=4wf2hqoq
2025-12-07 19:10:50 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=4wf2hqoq
2025-12-07 19:10:53 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:53 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.deleteChat
2025-12-07 19:10:53 [http-nio-8181-exec-4] INFO  com.nix.controller.ChatController [user:] - User test deleting chat b4b09c9e-693e-4f8d-b1b2-d846bf46f99f
2025-12-07 19:10:53 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.deleteChat
2025-12-07 19:10:57 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=4wf2hqoq
2025-12-07 19:10:57 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=4wf2hqoq
2025-12-07 19:10:57 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:10:57 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:10:57 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:10:57 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=4wf2hqoq] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:10:57 [http-nio-8181-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 4wf2hqoq
2025-12-07 19:10:57 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=4wf2hqoq
2025-12-07 19:10:57 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4wf2hqoq}], simpSessionId=4wf2hqoq}]
2025-12-07 19:11:00 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:11:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:11:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 19:11:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:11:00 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:11:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:11:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 19:11:00 [http-nio-8181-exec-2] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:11:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:11:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:11:00 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:11:00 [http-nio-8181-exec-8] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:11:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:11:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:11:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:11:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:11:00 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:11:00 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:11:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:11:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:11:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:11:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:11:00 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:11:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:11:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:11:00 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:11:00 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:11:00 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:11:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:11:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:11:00 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:11:00 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:11:00 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:11:00 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:11:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:11:00 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:11:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:11:01 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109461655
2025-12-07 19:11:01 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:01 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:01 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:11:01 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:11:01 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:11:01 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:11:01 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:01 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:11:01 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:11:01 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:11:02 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:02 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:11:02 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:11:02 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:11:02 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:11:02 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/468/2bmuy3u2/websocket
2025-12-07 19:11:02 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=2bmuy3u2]
2025-12-07 19:11:02 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=2bmuy3u2
2025-12-07 19:11:02 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=2bmuy3u2
2025-12-07 19:11:03 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [4wf2hqoq]
2025-12-07 19:11:10 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:11:10 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:11:10 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:11:10 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:11:10 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:11:10 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:11:10 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:11:10 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109470132
2025-12-07 19:11:10 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109470133
2025-12-07 19:11:10 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:11:10 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:11:10 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:11:10 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:11:10 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:11:10 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:11:10 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:11:10 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/717/c25auuh0/websocket
2025-12-07 19:11:10 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=c25auuh0]
2025-12-07 19:11:10 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:11:10 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=c25auuh0
2025-12-07 19:11:10 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=c25auuh0
2025-12-07 19:11:12 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:11:12 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:11:12 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:11:12 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=c25auuh0, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:11:12 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:11:12 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:11:12 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:11:12 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:11:12 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:11:12 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:11:12 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 1 sessions.
2025-12-07 19:11:12 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:11:12 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:11:17 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:11:17 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:11:17 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:11:17 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=c25auuh0, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:11:17 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:11:17 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:11:17 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:11:17 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='ewq', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:11:17 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:11:17 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:11:17 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 1 sessions.
2025-12-07 19:11:17 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:11:17 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:11:26 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=c25auuh0
2025-12-07 19:11:26 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-1 session=c25auuh0
2025-12-07 19:11:26 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:11:26 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:11:26 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:11:26 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:11:29 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:11:29 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:11:29 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:11:29 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409 session=c25auuh0, lookupDestination='/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409'
2025-12-07 19:11:29 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:11:29 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:11:29 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received groupId: 86b2a924-1be3-4dc5-9b78-eb542d7ca409
2025-12-07 19:11:29 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:11:29 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:11:29 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private session=null payload={"id":null,"chatId":"86b2a924-1be3-4dc5-9b78-eb542d7ca409","sender":{"id":"cce11...(truncated)
2025-12-07 19:11:29 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 1 sessions.
2025-12-07 19:11:29 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:11:29 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:11:35 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=2bmuy3u2] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:11:35 [http-nio-8181-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 2bmuy3u2
2025-12-07 19:11:35 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=2bmuy3u2
2025-12-07 19:11:35 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2bmuy3u2}], simpSessionId=2bmuy3u2}]
2025-12-07 19:11:36 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:11:36 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 19:11:36 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:11:36 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:11:36 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 19:11:36 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:11:36 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:11:36 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:11:36 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:11:36 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:11:36 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:11:36 [http-nio-8181-exec-1] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:11:36 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:11:36 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:11:36 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:11:36 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:11:36 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:11:36 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:11:36 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:11:36 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:11:36 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:11:36 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:11:36 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:11:36 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:11:36 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:11:36 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:11:36 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:11:36 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:11:36 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:11:36 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:11:36 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:11:36 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:11:36 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:11:37 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:11:37 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109497008
2025-12-07 19:11:37 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:11:37 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/777/5iolstpw/websocket
2025-12-07 19:11:37 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=5iolstpw]
2025-12-07 19:11:37 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=5iolstpw
2025-12-07 19:11:37 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=5iolstpw
2025-12-07 19:11:43 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [2bmuy3u2]
2025-12-07 19:13:55 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=c25auuh0
2025-12-07 19:13:55 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-2 session=c25auuh0
2025-12-07 19:13:56 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:13:56 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:13:56 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:13:56 [http-nio-8181-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 19:13:56 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=c25auuh0] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:13:56 [http-nio-8181-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session c25auuh0
2025-12-07 19:13:56 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=c25auuh0
2025-12-07 19:13:56 [ws-task-scheduler-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=c25auuh0}], simpSessionId=c25auuh0}]
2025-12-07 19:13:59 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=sqn3qhoj
2025-12-07 19:13:59 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=sqn3qhoj
2025-12-07 19:13:59 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=sqn3qhoj] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:13:59 [http-nio-8181-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session sqn3qhoj
2025-12-07 19:13:59 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=sqn3qhoj
2025-12-07 19:13:59 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=sqn3qhoj}], simpSessionId=sqn3qhoj}]
2025-12-07 19:13:59 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:13:59 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109639460
2025-12-07 19:13:59 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:13:59 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/872/3i45p5ae/websocket
2025-12-07 19:13:59 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=3i45p5ae]
2025-12-07 19:13:59 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=3i45p5ae
2025-12-07 19:13:59 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=3i45p5ae
2025-12-07 19:13:59 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=5iolstpw
2025-12-07 19:13:59 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=5iolstpw
2025-12-07 19:13:59 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=5iolstpw] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:13:59 [http-nio-8181-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 5iolstpw
2025-12-07 19:13:59 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=5iolstpw
2025-12-07 19:13:59 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=5iolstpw}], simpSessionId=5iolstpw}]
2025-12-07 19:13:59 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:13:59 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109639548
2025-12-07 19:13:59 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:13:59 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/189/hiqboyzy/websocket
2025-12-07 19:13:59 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=hiqboyzy]
2025-12-07 19:13:59 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=hiqboyzy
2025-12-07 19:13:59 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=hiqboyzy
2025-12-07 19:14:03 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [c25auuh0]
2025-12-07 19:14:08 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [sqn3qhoj, 5iolstpw]
2025-12-07 19:14:29 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=hiqboyzy
2025-12-07 19:14:29 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=hiqboyzy
2025-12-07 19:14:29 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=3i45p5ae
2025-12-07 19:14:29 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=3i45p5ae
2025-12-07 19:14:29 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:14:29 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:14:29 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:14:29 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:14:29 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:14:29 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:14:29 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:14:29 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:14:29 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:14:29 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=hiqboyzy] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:14:29 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session hiqboyzy
2025-12-07 19:14:29 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=hiqboyzy
2025-12-07 19:14:29 [ws-task-scheduler-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=hiqboyzy}], simpSessionId=hiqboyzy}]
2025-12-07 19:14:29 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:14:29 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:14:29 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:14:29 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:14:29 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:14:29 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:14:29 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:14:29 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:14:29 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:14:29 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:14:29 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:14:30 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:14:30 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:14:30 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109669966
2025-12-07 19:14:30 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:14:30 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:14:30 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:14:30 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:14:30 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:14:30 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:14:30 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:14:30 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:14:30 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:14:30 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:14:30 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:14:30 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=3i45p5ae] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:14:30 [http-nio-8181-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 3i45p5ae
2025-12-07 19:14:30 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=3i45p5ae
2025-12-07 19:14:30 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:14:30 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:14:30 [ws-task-scheduler-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3i45p5ae}], simpSessionId=3i45p5ae}]
2025-12-07 19:14:30 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:14:30 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:14:30 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:14:30 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:14:30 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109670592
2025-12-07 19:14:31 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:14:31 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/244/un1vtvqs/websocket
2025-12-07 19:14:31 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=un1vtvqs]
2025-12-07 19:14:31 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=un1vtvqs
2025-12-07 19:14:31 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:14:31 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/864/roj3lxm5/websocket
2025-12-07 19:14:31 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=roj3lxm5]
2025-12-07 19:14:31 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=roj3lxm5
2025-12-07 19:14:38 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [3i45p5ae, hiqboyzy]
2025-12-07 19:15:47 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=un1vtvqs] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:15:47 [http-nio-8181-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session un1vtvqs
2025-12-07 19:15:47 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=un1vtvqs
2025-12-07 19:15:47 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=un1vtvqs}], simpSessionId=un1vtvqs}]
2025-12-07 19:15:48 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:15:48 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:15:48 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 19:15:48 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:15:48 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:15:48 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 19:15:48 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:15:48 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:15:48 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:15:48 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:15:48 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:15:48 [http-nio-8181-exec-2] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:15:48 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:15:48 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:15:48 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:15:48 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:15:48 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:15:48 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:15:48 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:15:48 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:15:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:15:48 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:15:48 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:15:48 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:15:48 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:15:48 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:15:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:15:48 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:15:48 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:15:48 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:15:48 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:15:48 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:15:48 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:15:48 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:15:48 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:15:48 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:15:48 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:15:48 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:15:48 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:15:48 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:15:48 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:15:48 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:15:48 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:15:50 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:15:50 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109750335
2025-12-07 19:15:50 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:50 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:15:50 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:50 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:15:50 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:15:50 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:15:50 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:15:50 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:15:50 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/985/pyw5j4rq/websocket
2025-12-07 19:15:50 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=pyw5j4rq]
2025-12-07 19:15:50 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:50 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:15:50 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:15:50 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:15:50 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:15:50 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:15:50 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:15:51 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=pyw5j4rq
2025-12-07 19:15:51 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=pyw5j4rq
2025-12-07 19:15:52 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=pyw5j4rq
2025-12-07 19:15:53 [MessageBroker-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [un1vtvqs]
2025-12-07 19:15:54 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:15:54 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:15:54 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:15:54 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:15:54 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:15:54 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:15:54 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:15:54 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:15:54 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:15:54 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:15:54 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:15:54 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:15:54 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:15:54 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109754611
2025-12-07 19:15:54 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:15:54 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109754612
2025-12-07 19:15:54 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:15:54 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/110/2av32mdg/websocket
2025-12-07 19:15:54 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=2av32mdg]
2025-12-07 19:15:54 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=2av32mdg
2025-12-07 19:15:54 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-0 session=2av32mdg
2025-12-07 19:15:56 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=2av32mdg
2025-12-07 19:15:56 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=2av32mdg
2025-12-07 19:15:56 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:15:56 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:15:56 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:15:56 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:15:58 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:15:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:15:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:15:58 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=2av32mdg, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:15:58 [ws-task-scheduler-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:15:58 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:15:58 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:15:58 [ws-task-scheduler-2] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:15:58 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:15:58 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:15:58 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:15:58 [ws-task-scheduler-2] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:15:58 [ws-task-scheduler-2] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:16:04 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:04 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:16:04 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:16:04 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=2av32mdg, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:16:04 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:16:04 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:16:04 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:16:04 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:16:04 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:16:04 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:16:04 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:16:04 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:16:04 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:16:07 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:07 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:16:08 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:16:08 [ws-task-scheduler-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=2av32mdg, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:16:08 [ws-task-scheduler-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:16:08 [ws-task-scheduler-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:16:08 [ws-task-scheduler-10] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:16:08 [ws-task-scheduler-10] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='ewq231', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:16:08 [ws-task-scheduler-10] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:16:08 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:16:08 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:16:08 [ws-task-scheduler-10] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:16:08 [ws-task-scheduler-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:16:12 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-1 session=2av32mdg
2025-12-07 19:16:12 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-2 session=2av32mdg
2025-12-07 19:16:12 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:12 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:16:12 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:16:12 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:16:13 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-2 session=2av32mdg
2025-12-07 19:16:13 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-3 session=2av32mdg
2025-12-07 19:16:13 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:13 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:16:13 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:16:13 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:16:14 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=roj3lxm5] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:16:14 [http-nio-8181-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session roj3lxm5
2025-12-07 19:16:14 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=2av32mdg] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:16:14 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=roj3lxm5
2025-12-07 19:16:14 [http-nio-8181-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 2av32mdg
2025-12-07 19:16:14 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=roj3lxm5}], simpSessionId=roj3lxm5}]
2025-12-07 19:16:14 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=2av32mdg
2025-12-07 19:16:14 [ws-task-scheduler-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2av32mdg}], simpSessionId=2av32mdg}]
2025-12-07 19:16:15 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 19:16:15 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:16:15 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:16:15 [http-nio-8181-exec-8] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:16:15 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 19:16:15 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:16:15 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:16:15 [http-nio-8181-exec-9] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:16:15 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:16:15 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:16:15 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:16:15 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:16:15 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:16:15 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:16:15 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:16:15 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:16:15 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:16:15 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:16:15 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 19:16:15 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:16:15 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:16:15 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:16:15 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:16:15 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:16:15 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:15 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:16 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:16 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 19:16:16 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 19:16:16 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:16:16 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:16:16 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:16 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:16:16 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:16:16 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:16:16 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:16:16 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:16:16 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:16:16 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 19:16:16 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:16 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:16:16 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:16:16 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:16:16 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109776307
2025-12-07 19:16:16 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:16 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:16 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:16:16 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:16:16 [http-nio-8181-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 19:16:16 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:16:16 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:16:16 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:16:16 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:16 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:16:16 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:16:16 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:16 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:16:16 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:16:16 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:16:16 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:16:16 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/316/fahqhnid/websocket
2025-12-07 19:16:16 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=fahqhnid]
2025-12-07 19:16:17 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=fahqhnid
2025-12-07 19:16:17 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=fahqhnid
2025-12-07 19:16:18 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-2 session=fahqhnid
2025-12-07 19:16:18 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=fahqhnid
2025-12-07 19:16:18 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:18 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:16:18 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:16:18 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:16:18 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:18 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:16:18 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:16:18 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:16:18 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:18 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:16:18 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:16:18 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:16:18 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:16:18 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109778992
2025-12-07 19:16:19 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:16:19 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109778992
2025-12-07 19:16:19 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:16:19 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/574/m2dvtq33/websocket
2025-12-07 19:16:19 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=m2dvtq33]
2025-12-07 19:16:19 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=m2dvtq33
2025-12-07 19:16:19 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=m2dvtq33
2025-12-07 19:16:22 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:22 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:16:22 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:16:22 [ws-task-scheduler-5] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=m2dvtq33, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:16:22 [ws-task-scheduler-5] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:16:22 [ws-task-scheduler-5] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:16:22 [ws-task-scheduler-5] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:16:22 [ws-task-scheduler-5] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='ewq312', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:16:22 [ws-task-scheduler-5] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:16:22 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:16:22 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 3 sessions.
2025-12-07 19:16:22 [ws-task-scheduler-5] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:16:22 [ws-task-scheduler-5] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:16:23 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [2av32mdg, roj3lxm5]
2025-12-07 19:16:28 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:28 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:16:28 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:16:28 [ws-task-scheduler-7] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=m2dvtq33, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:16:28 [ws-task-scheduler-7] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:16:28 [ws-task-scheduler-7] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:16:28 [ws-task-scheduler-7] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:16:28 [ws-task-scheduler-7] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='21', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:16:28 [ws-task-scheduler-7] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:16:28 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:16:28 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 3 sessions.
2025-12-07 19:16:28 [ws-task-scheduler-7] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:16:28 [ws-task-scheduler-7] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:16:30 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=m2dvtq33
2025-12-07 19:16:30 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=m2dvtq33
2025-12-07 19:16:31 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:16:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:16:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:16:31 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=m2dvtq33] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:16:31 [http-nio-8181-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session m2dvtq33
2025-12-07 19:16:31 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=m2dvtq33
2025-12-07 19:16:31 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=m2dvtq33}], simpSessionId=m2dvtq33}]
2025-12-07 19:16:38 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [m2dvtq33]
2025-12-07 19:16:56 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:16:56 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:16:56 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:16:56 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:16:56 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:16:56 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:16:56 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:16:56 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:16:56 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:16:56 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 19:16:56 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 19:16:56 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 19:16:56 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:16:56 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109816928
2025-12-07 19:16:56 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:16:56 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109816928
2025-12-07 19:16:56 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:16:56 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/916/polpzs3x/websocket
2025-12-07 19:16:56 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=polpzs3x]
2025-12-07 19:16:57 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=polpzs3x
2025-12-07 19:16:57 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-0 session=polpzs3x
2025-12-07 19:17:59 [ws-task-scheduler-8] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session fahqhnid with CloseStatus[code=1002, reason=null]
2025-12-07 19:17:59 [ws-task-scheduler-8] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=7787b39b-1ef2-8cfb-2c3e-5d9f77ce8219, uri=ws://localhost:8181/ws/316/fahqhnid/websocket]
2025-12-07 19:17:59 [ws-task-scheduler-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=fahqhnid] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:17:59 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session fahqhnid
2025-12-07 19:17:59 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=fahqhnid
2025-12-07 19:17:59 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=fahqhnid}], simpSessionId=fahqhnid}]
2025-12-07 19:18:08 [MessageBroker-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [fahqhnid]
2025-12-07 19:18:45 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-1 session=polpzs3x
2025-12-07 19:18:45 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing UNSUBSCRIBE id=sub-0 session=polpzs3x
2025-12-07 19:18:45 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:18:45 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:18:45 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:18:45 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:18:45 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:18:45 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:18:45 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:18:45 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=polpzs3x] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:18:45 [http-nio-8181-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session polpzs3x
2025-12-07 19:18:45 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:18:45 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=polpzs3x
2025-12-07 19:18:45 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=polpzs3x}], simpSessionId=polpzs3x}]
2025-12-07 19:18:45 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:18:45 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 19:18:45 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 19:18:45 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 19:18:45 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:18:45 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:18:45 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109925441
2025-12-07 19:18:45 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765109925440
2025-12-07 19:18:45 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:18:45 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/509/seaz15sb/websocket
2025-12-07 19:18:45 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=seaz15sb]
2025-12-07 19:18:45 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=seaz15sb
2025-12-07 19:18:53 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [polpzs3x]
2025-12-07 19:19:59 [ws-task-scheduler-6] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session pyw5j4rq with CloseStatus[code=1002, reason=null]
2025-12-07 19:19:59 [ws-task-scheduler-6] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=987f449a-f9d8-0611-ba67-3312b24e575e, uri=ws://localhost:8181/ws/985/pyw5j4rq/websocket]
2025-12-07 19:19:59 [ws-task-scheduler-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=pyw5j4rq] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:19:59 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session pyw5j4rq
2025-12-07 19:19:59 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=pyw5j4rq
2025-12-07 19:19:59 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=pyw5j4rq}], simpSessionId=pyw5j4rq}]
2025-12-07 19:20:08 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [pyw5j4rq]
2025-12-07 19:20:19 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-0 session=seaz15sb
2025-12-07 19:20:19 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:19 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:19 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:20:19 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:19 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:19 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:19 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:20:19 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:19 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=seaz15sb] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:20:19 [http-nio-8181-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session seaz15sb
2025-12-07 19:20:19 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=seaz15sb
2025-12-07 19:20:19 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=seaz15sb}], simpSessionId=seaz15sb}]
2025-12-07 19:20:19 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:19 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 19:20:19 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 19:20:19 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 19:20:19 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:19 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110019609
2025-12-07 19:20:19 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:19 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110019609
2025-12-07 19:20:19 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:19 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/708/2a2xgqrc/websocket
2025-12-07 19:20:19 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=2a2xgqrc]
2025-12-07 19:20:19 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=2a2xgqrc
2025-12-07 19:20:24 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-0 session=2a2xgqrc
2025-12-07 19:20:24 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:24 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:20:24 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:20:24 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=2a2xgqrc] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:20:24 [http-nio-8181-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 2a2xgqrc
2025-12-07 19:20:24 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=2a2xgqrc
2025-12-07 19:20:24 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2a2xgqrc}], simpSessionId=2a2xgqrc}]
2025-12-07 19:20:27 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:27 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:27 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:27 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 19:20:27 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:20:27 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:20:27 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:27 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 19:20:27 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:20:27 [http-nio-8181-exec-1] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:20:27 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:27 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:27 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:20:27 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:20:27 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:20:27 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:20:27 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:27 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:20:27 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:20:27 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:20:27 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:20:27 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:20:27 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:20:27 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:27 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:27 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:20:27 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:28 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:28 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:28 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:28 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:28 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:28 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:28 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:28 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:20:28 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:20:28 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:20:28 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:20:28 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:20:28 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:20:28 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:20:28 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:20:28 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:20:28 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:20:28 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:20:28 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:28 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:28 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:28 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:20:28 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:20:28 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:28 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:20:28 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:28 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:20:28 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:28 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:20:28 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [seaz15sb]
2025-12-07 19:20:30 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:30 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110030822
2025-12-07 19:20:31 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed TagController.getAllTags
2025-12-07 19:20:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:20:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:20:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:20:31 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:20:31 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-8] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:20:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:20:31 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed TagController.getAllTags
2025-12-07 19:20:31 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 19:20:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:20:31 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:20:31 [http-nio-8181-exec-7] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:20:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed UserController.getUserFromToken
2025-12-07 19:20:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:20:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:20:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:20:31 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:20:31 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:20:31 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:20:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:20:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:20:31 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:20:31 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:20:31 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:20:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:20:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:20:31 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:20:31 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:20:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:20:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:20:31 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:20:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:20:31 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:20:31 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-4] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:20:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:20:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:20:31 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:20:31 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:20:31 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:31 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/501/gfp0uahe/websocket
2025-12-07 19:20:31 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=gfp0uahe]
2025-12-07 19:20:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:20:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:20:33 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=gfp0uahe
2025-12-07 19:20:33 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=gfp0uahe
2025-12-07 19:20:33 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [2a2xgqrc]
2025-12-07 19:20:34 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:34 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110034011
2025-12-07 19:20:34 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=gfp0uahe
2025-12-07 19:20:34 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:34 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:34 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:34 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:20:34 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:20:34 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:20:34 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:34 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:34 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/721/pf4qkcic/websocket
2025-12-07 19:20:34 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:34 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:20:34 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:34 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:34 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:20:34 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=pf4qkcic]
2025-12-07 19:20:34 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:20:34 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:35 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=pf4qkcic
2025-12-07 19:20:35 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=pf4qkcic
2025-12-07 19:20:36 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-1 session=pf4qkcic
2025-12-07 19:20:38 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:38 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:38 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:20:38 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:38 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:38 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getUserChats
2025-12-07 19:20:38 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: johntest
2025-12-07 19:20:38 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getUserChats
2025-12-07 19:20:38 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:38 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.getChatMessages
2025-12-07 19:20:38 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: johntest
2025-12-07 19:20:38 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.getChatMessages
2025-12-07 19:20:38 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:38 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:38 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110038359
2025-12-07 19:20:38 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110038360
2025-12-07 19:20:38 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:38 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/406/eh5yzu1r/websocket
2025-12-07 19:20:38 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=eh5yzu1r]
2025-12-07 19:20:38 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=eh5yzu1r
2025-12-07 19:20:44 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:44 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.createMessage
2025-12-07 19:20:44 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.createMessage
2025-12-07 19:20:44 [ws-task-scheduler-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409 session=eh5yzu1r, lookupDestination='/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409'
2025-12-07 19:20:44 [ws-task-scheduler-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:20:44 [ws-task-scheduler-9] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:20:44 [ws-task-scheduler-9] INFO  com.nix.controller.ChatController [user:] - Received groupId: 86b2a924-1be3-4dc5-9b78-eb542d7ca409
2025-12-07 19:20:44 [ws-task-scheduler-9] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test', senderId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93, receiverId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93}
2025-12-07 19:20:44 [ws-task-scheduler-9] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:20:44 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private session=null payload={"id":null,"chatId":"86b2a924-1be3-4dc5-9b78-eb542d7ca409","sender":{"id":"0fca6...(truncated)
2025-12-07 19:20:44 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 1 sessions.
2025-12-07 19:20:44 [ws-task-scheduler-9] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:20:44 [ws-task-scheduler-9] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:20:50 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:20:50 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.createMessage
2025-12-07 19:20:50 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.createMessage
2025-12-07 19:20:50 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409 session=eh5yzu1r, lookupDestination='/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409'
2025-12-07 19:20:50 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:20:50 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:20:50 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received groupId: 86b2a924-1be3-4dc5-9b78-eb542d7ca409
2025-12-07 19:20:50 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test12', senderId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93, receiverId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93}
2025-12-07 19:20:50 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:20:50 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private session=null payload={"id":null,"chatId":"86b2a924-1be3-4dc5-9b78-eb542d7ca409","sender":{"id":"0fca6...(truncated)
2025-12-07 19:20:50 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 1 sessions.
2025-12-07 19:20:50 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:20:50 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:20:58 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 19:20:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:20:58 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:20:58 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 19:20:58 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:20:58 [http-nio-8181-exec-5] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:20:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 19:20:58 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 19:20:58 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:20:58 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:20:58 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:20:58 [http-nio-8181-exec-4] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:20:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:20:58 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 19:20:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 19:20:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:20:58 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:20:58 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:20:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:20:58 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:20:58 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:20:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:20:58 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 19:20:58 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:20:58 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:20:58 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:20:58 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:20:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:20:58 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:20:58 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:20:58 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 19:20:58 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 19:20:58 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 19:20:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:20:58 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:20:58 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:20:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:20:58 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:20:58 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:20:58 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:20:58 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:20:59 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:20:59 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:20:59 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110059970
2025-12-07 19:21:00 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:21:00 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:21:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:21:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:21:00 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:21:00 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/600/kkffek23/websocket
2025-12-07 19:21:00 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:21:00 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=kkffek23]
2025-12-07 19:21:00 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:21:00 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:21:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:21:00 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:21:00 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:21:00 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:21:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:21:00 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:21:00 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:21:01 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=kkffek23
2025-12-07 19:21:01 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=kkffek23
2025-12-07 19:21:01 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-2 session=kkffek23
2025-12-07 19:21:01 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-1 session=kkffek23
2025-12-07 19:21:04 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:21:04 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.createMessage
2025-12-07 19:21:04 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.createMessage
2025-12-07 19:21:04 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409 session=eh5yzu1r, lookupDestination='/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409'
2025-12-07 19:21:04 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:21:04 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:21:04 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received groupId: 86b2a924-1be3-4dc5-9b78-eb542d7ca409
2025-12-07 19:21:04 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='test21', senderId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93, receiverId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93}
2025-12-07 19:21:04 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:21:04 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private session=null payload={"id":null,"chatId":"86b2a924-1be3-4dc5-9b78-eb542d7ca409","sender":{"id":"0fca6...(truncated)
2025-12-07 19:21:04 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:21:04 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:21:04 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:21:08 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:21:08 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.createMessage
2025-12-07 19:21:08 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.createMessage
2025-12-07 19:21:08 [ws-task-scheduler-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409 session=eh5yzu1r, lookupDestination='/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409'
2025-12-07 19:21:08 [ws-task-scheduler-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:21:08 [ws-task-scheduler-1] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:21:08 [ws-task-scheduler-1] INFO  com.nix.controller.ChatController [user:] - Received groupId: 86b2a924-1be3-4dc5-9b78-eb542d7ca409
2025-12-07 19:21:08 [ws-task-scheduler-1] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='bla bla', senderId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93, receiverId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93}
2025-12-07 19:21:08 [ws-task-scheduler-1] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:21:08 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private session=null payload={"id":null,"chatId":"86b2a924-1be3-4dc5-9b78-eb542d7ca409","sender":{"id":"0fca6...(truncated)
2025-12-07 19:21:08 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:21:08 [ws-task-scheduler-1] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:21:08 [ws-task-scheduler-1] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:22:09 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=kkffek23] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:22:09 [http-nio-8181-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session kkffek23
2025-12-07 19:22:09 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=kkffek23
2025-12-07 19:22:09 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=kkffek23}], simpSessionId=kkffek23}]
2025-12-07 19:22:18 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [kkffek23]
2025-12-07 19:22:18 [http-nio-8181-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=gfp0uahe] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:22:18 [http-nio-8181-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session gfp0uahe
2025-12-07 19:22:18 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=gfp0uahe
2025-12-07 19:22:18 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=gfp0uahe}], simpSessionId=gfp0uahe}]
2025-12-07 19:22:26 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:26 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:26 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:26 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:26 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:26 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:22:26 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 19:22:26 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:22:26 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:22:26 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:22:26 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:26 [http-nio-8181-exec-1] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:22:26 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 19:22:26 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:22:26 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:22:26 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:22:26 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:26 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:22:26 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:22:26 [http-nio-8181-exec-8] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:22:26 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:22:26 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:22:26 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:22:26 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:26 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:22:26 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:22:26 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:22:27 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:22:27 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:22:27 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:22:27 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:22:27 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:22:27 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:22:27 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:22:27 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:22:27 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:22:27 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:22:27 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:22:27 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:22:27 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:22:27 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:22:27 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:22:27 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:22:27 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:22:27 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:22:27 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:22:27 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:22:27 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:22:27 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:22:27 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:27 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:22:27 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:22:28 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [gfp0uahe]
2025-12-07 19:22:28 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:22:28 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110148652
2025-12-07 19:22:28 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:28 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:28 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:22:28 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:22:29 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:22:29 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:22:29 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:22:29 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:22:29 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/747/wvf5bgan/websocket
2025-12-07 19:22:29 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=wvf5bgan]
2025-12-07 19:22:29 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:29 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:22:29 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:22:29 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:22:29 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:22:29 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:22:29 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:22:30 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=wvf5bgan
2025-12-07 19:22:30 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=wvf5bgan
2025-12-07 19:22:31 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 19:22:31 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:22:31 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 19:22:31 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:22:31 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 19:22:31 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 19:22:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:22:31 [http-nio-8181-exec-4] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:22:31 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:22:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:22:31 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:22:31 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=wvf5bgan
2025-12-07 19:22:31 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 19:22:31 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-10] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:22:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:22:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:22:31 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:22:31 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:22:31 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 19:22:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:22:31 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:22:31 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:22:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:22:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:22:31 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 19:22:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:22:31 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:22:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:22:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:22:31 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:22:31 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:22:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 19:22:31 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:22:31 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 19:22:31 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:22:31 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 19:22:31 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:22:31 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:22:31 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:22:31 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:22:31 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:22:31 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:22:31 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:22:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:22:32 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:22:32 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110152834
2025-12-07 19:22:33 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:33 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:22:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:22:33 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:22:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:22:33 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:22:33 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/700/ekqwjh02/websocket
2025-12-07 19:22:33 [http-nio-8181-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=ekqwjh02]
2025-12-07 19:22:33 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:22:33 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:22:33 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:22:33 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:22:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:22:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:22:33 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=ekqwjh02
2025-12-07 19:22:33 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=ekqwjh02
2025-12-07 19:22:34 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-1 session=ekqwjh02
2025-12-07 19:22:34 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-2 session=ekqwjh02
2025-12-07 19:22:37 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:37 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:22:37 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:22:37 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:22:37 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:37 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:22:37 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:22:37 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:22:37 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:37 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:22:37 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:22:37 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:22:37 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:22:37 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110157847
2025-12-07 19:22:37 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:22:37 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110157847
2025-12-07 19:22:37 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:22:37 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/566/vggdkbol/websocket
2025-12-07 19:22:37 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=vggdkbol]
2025-12-07 19:22:37 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=vggdkbol
2025-12-07 19:22:46 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:46 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:22:46 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:22:46 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=vggdkbol, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:22:46 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:22:46 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:22:46 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:22:46 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='hello', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:22:46 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:22:46 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:22:46 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:22:46 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:22:46 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:22:53 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:22:53 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:22:53 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:22:53 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=vggdkbol, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:22:53 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:22:53 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:22:53 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:22:53 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='bla bla', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:22:53 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:22:53 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:22:53 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:22:53 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:22:53 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:23:02 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:23:02 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ImageController.uploadImage
2025-12-07 19:23:06 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Processing image: contentType=image/jpeg, size=83035
2025-12-07 19:23:06 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Original image dimensions: 564x1000
2025-12-07 19:23:06 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Converted image to RGB: 564x1000
2025-12-07 19:23:06 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Final dimensions: 609x1080
2025-12-07 19:23:06 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Calculated dimensions: 609x1080
2025-12-07 19:23:06 [http-nio-8181-exec-1] DEBUG com.nix.service.ImageService [user:] - Image processed successfully, output size: 40666
2025-12-07 19:23:06 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ImageController.uploadImage
2025-12-07 19:23:06 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:23:06 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.createMessage
2025-12-07 19:23:06 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.createMessage
2025-12-07 19:23:06 [ws-task-scheduler-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=vggdkbol, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:23:06 [ws-task-scheduler-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:23:06 [ws-task-scheduler-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:23:06 [ws-task-scheduler-10] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:23:06 [ws-task-scheduler-10] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='', senderId=cce11df3-8572-4ccd-bece-57e7a513beef, receiverId=cce11df3-8572-4ccd-bece-57e7a513beef}
2025-12-07 19:23:06 [ws-task-scheduler-10] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:23:06 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"cce11...(truncated)
2025-12-07 19:23:06 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:23:06 [ws-task-scheduler-10] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:23:06 [ws-task-scheduler-10] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:23:18 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:23:18 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.createMessage
2025-12-07 19:23:18 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.createMessage
2025-12-07 19:23:18 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409 session=eh5yzu1r, lookupDestination='/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409'
2025-12-07 19:23:18 [ws-task-scheduler-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:23:18 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:23:18 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received groupId: 86b2a924-1be3-4dc5-9b78-eb542d7ca409
2025-12-07 19:23:18 [ws-task-scheduler-6] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='hey', senderId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93, receiverId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93}
2025-12-07 19:23:18 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:23:18 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private session=null payload={"id":null,"chatId":"86b2a924-1be3-4dc5-9b78-eb542d7ca409","sender":{"id":"0fca6...(truncated)
2025-12-07 19:23:18 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:23:18 [ws-task-scheduler-6] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:23:18 [ws-task-scheduler-6] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:23:19 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:23:19 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:23:19 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:23:19 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:25:40 [ws-task-scheduler-6] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session vggdkbol with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:40 [ws-task-scheduler-10] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session eh5yzu1r with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:40 [ws-task-scheduler-2] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session pf4qkcic with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:40 [ws-task-scheduler-6] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=7b4031c1-f54f-59c7-5d14-b1cd193493da, uri=ws://localhost:8181/ws/566/vggdkbol/websocket]
2025-12-07 19:25:40 [ws-task-scheduler-10] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=07f3f623-25f2-6f10-682e-5b845059f9f6, uri=ws://localhost:8181/ws/406/eh5yzu1r/websocket]
2025-12-07 19:25:40 [ws-task-scheduler-2] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=72cb09ac-40da-602e-2801-234bb3e13d9e, uri=ws://localhost:8181/ws/721/pf4qkcic/websocket]
2025-12-07 19:25:40 [ws-task-scheduler-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=vggdkbol] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:40 [ws-task-scheduler-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=eh5yzu1r] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:40 [ws-task-scheduler-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=pf4qkcic] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:40 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session vggdkbol
2025-12-07 19:25:40 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session eh5yzu1r
2025-12-07 19:25:40 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session pf4qkcic
2025-12-07 19:25:40 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=vggdkbol
2025-12-07 19:25:40 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=eh5yzu1r
2025-12-07 19:25:40 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=pf4qkcic
2025-12-07 19:25:40 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=vggdkbol}], simpSessionId=vggdkbol}]
2025-12-07 19:25:40 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=eh5yzu1r}], simpSessionId=eh5yzu1r}]
2025-12-07 19:25:40 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=pf4qkcic}], simpSessionId=pf4qkcic}]
2025-12-07 19:25:43 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:25:43 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110343346
2025-12-07 19:25:43 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:25:43 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/447/sgpecwqi/websocket
2025-12-07 19:25:43 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=sgpecwqi]
2025-12-07 19:25:43 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=sgpecwqi
2025-12-07 19:25:45 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:25:45 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110345344
2025-12-07 19:25:45 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:25:45 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/201/svzdh0sy/websocket
2025-12-07 19:25:45 [http-nio-8181-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=svzdh0sy]
2025-12-07 19:25:45 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=svzdh0sy
2025-12-07 19:25:45 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=svzdh0sy
2025-12-07 19:25:48 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 3 sessions: [pf4qkcic, vggdkbol, eh5yzu1r]
2025-12-07 19:25:50 [ws-task-scheduler-2] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session ekqwjh02 with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:50 [ws-task-scheduler-7] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session wvf5bgan with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:50 [ws-task-scheduler-2] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=4c008b54-cf6e-3f76-8df3-995b4a4d36ae, uri=ws://localhost:8181/ws/700/ekqwjh02/websocket]
2025-12-07 19:25:50 [ws-task-scheduler-7] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=a8221085-5a86-b201-ea5b-78e227a31051, uri=ws://localhost:8181/ws/747/wvf5bgan/websocket]
2025-12-07 19:25:50 [ws-task-scheduler-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=wvf5bgan] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:50 [ws-task-scheduler-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=ekqwjh02] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:25:50 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session wvf5bgan
2025-12-07 19:25:50 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session ekqwjh02
2025-12-07 19:25:50 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=wvf5bgan
2025-12-07 19:25:50 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=ekqwjh02
2025-12-07 19:25:50 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=wvf5bgan}], simpSessionId=wvf5bgan}]
2025-12-07 19:25:50 [ws-task-scheduler-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ekqwjh02}], simpSessionId=ekqwjh02}]
2025-12-07 19:25:55 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:25:55 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110355335
2025-12-07 19:25:55 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:25:55 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/142/3kj4hadt/websocket
2025-12-07 19:25:55 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=3kj4hadt]
2025-12-07 19:25:55 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=3kj4hadt
2025-12-07 19:25:55 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=3kj4hadt
2025-12-07 19:25:58 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 2 sessions: [wvf5bgan, ekqwjh02]
2025-12-07 19:26:31 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:26:31 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:26:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:26:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:26:31 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:26:31 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:26:31 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:26:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:26:31 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:26:31 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:26:31 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110391439
2025-12-07 19:26:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:26:31 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:26:31 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:26:31 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:26:31 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/621/ccla30xn/websocket
2025-12-07 19:26:31 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=ccla30xn]
2025-12-07 19:26:31 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:26:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:26:31 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:26:31 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:26:31 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=ccla30xn
2025-12-07 19:26:33 [ws-task-scheduler-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=3kj4hadt
2025-12-07 19:27:50 [ws-task-scheduler-2] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session svzdh0sy with CloseStatus[code=1002, reason=null]
2025-12-07 19:27:50 [ws-task-scheduler-6] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session sgpecwqi with CloseStatus[code=1002, reason=null]
2025-12-07 19:27:50 [ws-task-scheduler-8] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session 3kj4hadt with CloseStatus[code=1002, reason=null]
2025-12-07 19:27:50 [ws-task-scheduler-2] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=8125468d-fac3-1906-425f-f78117348c00, uri=ws://localhost:8181/ws/201/svzdh0sy/websocket]
2025-12-07 19:27:50 [ws-task-scheduler-6] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=51f8337a-bce0-6b84-2706-0698ae46082c, uri=ws://localhost:8181/ws/447/sgpecwqi/websocket]
2025-12-07 19:27:50 [ws-task-scheduler-8] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=8c58ca8c-92b8-88b6-e3db-da8f1192ccbc, uri=ws://localhost:8181/ws/142/3kj4hadt/websocket]
2025-12-07 19:27:50 [ws-task-scheduler-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=svzdh0sy] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:27:50 [ws-task-scheduler-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=sgpecwqi] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:27:50 [ws-task-scheduler-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=3kj4hadt] closed with CloseStatus[code=1002, reason=null]
2025-12-07 19:27:50 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session svzdh0sy
2025-12-07 19:27:50 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session sgpecwqi
2025-12-07 19:27:50 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 3kj4hadt
2025-12-07 19:27:50 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=svzdh0sy
2025-12-07 19:27:50 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=sgpecwqi
2025-12-07 19:27:50 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=3kj4hadt
2025-12-07 19:27:50 [ws-task-scheduler-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=svzdh0sy}], simpSessionId=svzdh0sy}]
2025-12-07 19:27:50 [ws-task-scheduler-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=sgpecwqi}], simpSessionId=sgpecwqi}]
2025-12-07 19:27:50 [ws-task-scheduler-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3kj4hadt}], simpSessionId=3kj4hadt}]
2025-12-07 19:27:53 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:27:53 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110473451
2025-12-07 19:27:53 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:27:53 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/375/f2nmlpcj/websocket
2025-12-07 19:27:53 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=f2nmlpcj]
2025-12-07 19:27:53 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=f2nmlpcj
2025-12-07 19:27:55 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:27:55 [http-nio-8181-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110475334
2025-12-07 19:27:55 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:27:55 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/325/mmkkt4a5/websocket
2025-12-07 19:27:55 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=mmkkt4a5]
2025-12-07 19:27:55 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=mmkkt4a5
2025-12-07 19:27:55 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/johntest/notifications id=sub-0 session=mmkkt4a5
2025-12-07 19:27:58 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 3 sessions: [sgpecwqi, svzdh0sy, 3kj4hadt]
2025-12-07 19:28:43 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-0 session=ccla30xn
2025-12-07 19:28:43 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:28:43 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:28:43 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:28:43 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:28:43 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:28:43 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:28:43 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:28:43 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:28:43 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=ccla30xn] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:28:43 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session ccla30xn
2025-12-07 19:28:43 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=ccla30xn
2025-12-07 19:28:43 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ccla30xn}], simpSessionId=ccla30xn}]
2025-12-07 19:28:43 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:28:43 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:28:43 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:28:43 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:28:43 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:28:43 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:28:43 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110523971
2025-12-07 19:28:43 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110523972
2025-12-07 19:28:44 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:28:44 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/889/jwf4dojd/websocket
2025-12-07 19:28:44 [http-nio-8181-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=jwf4dojd]
2025-12-07 19:28:44 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=jwf4dojd
2025-12-07 19:28:53 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [ccla30xn]
2025-12-07 19:29:26 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:29:26 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed TagController.getAllTags
2025-12-07 19:29:26 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:29:26 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed TagController.getAllTags
2025-12-07 19:29:26 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:29:26 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:29:26 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getLatestUpdateBooks
2025-12-07 19:29:26 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:29:26 [http-nio-8181-exec-1] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:29:26 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:29:26 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getLatestUpdateBooks
2025-12-07 19:29:26 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed UserController.getUserFromToken
2025-12-07 19:29:26 [http-nio-8181-exec-6] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:29:26 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed UserController.getUserFromToken
2025-12-07 19:29:26 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:29:26 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:29:26 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:29:26 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:29:26 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:29:26 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:29:26 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:29:26 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getFeaturedBooks
2025-12-07 19:29:26 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:29:26 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed CategoryController.getAllCategories
2025-12-07 19:29:26 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:29:26 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getFeaturedBooks
2025-12-07 19:29:26 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:29:26 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:29:26 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed BookController.getTop10BooksByLikes
2025-12-07 19:29:26 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:29:26 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:29:26 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:29:26 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:29:26 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:29:26 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:29:26 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed CategoryController.getAllCategories
2025-12-07 19:29:26 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:29:26 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:29:26 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed BookController.getTop10BooksByLikes
2025-12-07 19:29:26 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:26 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ProgressController.getReadingProgressByUser
2025-12-07 19:29:26 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ProgressController.getReadingProgressByUser
2025-12-07 19:29:28 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-0 session=jwf4dojd
2025-12-07 19:29:28 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:28 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:29:28 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=jwf4dojd] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:29:28 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session jwf4dojd
2025-12-07 19:29:28 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=jwf4dojd
2025-12-07 19:29:28 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=jwf4dojd}], simpSessionId=jwf4dojd}]
2025-12-07 19:29:28 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:29:31 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:31 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110571810
2025-12-07 19:29:32 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:29:32 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:29:32 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:29:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:29:32 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:29:32 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:29:32 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed TagController.getAllTags
2025-12-07 19:29:32 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 19:29:32 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:29:32 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:29:32 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 19:29:32 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:29:32 [http-nio-8181-exec-1] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:29:32 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed TagController.getAllTags
2025-12-07 19:29:32 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:29:32 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:29:32 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:29:32 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:29:32 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 19:29:32 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed NotificationController.getUserNotifications
2025-12-07 19:29:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed UserController.getUserFromToken
2025-12-07 19:29:32 [http-nio-8181-exec-8] DEBUG com.nix.controller.UserController [user:] - Getting user profile from JWT token
2025-12-07 19:29:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed UserController.getUserFromToken
2025-12-07 19:29:32 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed NotificationController.getUserNotifications
2025-12-07 19:29:32 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:29:32 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 19:29:32 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:29:32 [http-nio-8181-exec-7] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:29:32 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:29:32 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:32 [http-nio-8181-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/265/zdjxz4yo/websocket
2025-12-07 19:29:32 [http-nio-8181-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=zdjxz4yo]
2025-12-07 19:29:32 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:29:32 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:29:32 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:29:32 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed CategoryController.getAllCategories
2025-12-07 19:29:32 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:29:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:29:32 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:32 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getTop10BooksByLikes
2025-12-07 19:29:32 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:29:32 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:29:32 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:29:32 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getLatestUpdateBooks
2025-12-07 19:29:32 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed CategoryController.getAllCategories
2025-12-07 19:29:32 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:29:32 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:33 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:33 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:29:33 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getLatestUpdateBooks
2025-12-07 19:29:33 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getTop10BooksByLikes
2025-12-07 19:29:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:29:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:29:33 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:29:33 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:29:33 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:29:33 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:33 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:29:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ProgressController.getReadingProgressByUser
2025-12-07 19:29:33 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ProgressController.getReadingProgressByUser
2025-12-07 19:29:33 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:33 [http-nio-8181-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110573941
2025-12-07 19:29:34 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=zdjxz4yo
2025-12-07 19:29:34 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/Admin/notifications id=sub-0 session=zdjxz4yo
2025-12-07 19:29:34 [http-nio-8181-exec-7] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:34 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:34 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:29:34 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:29:34 [http-nio-8181-exec-8] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:29:34 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:34 [http-nio-8181-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/626/0bqf02kr/websocket
2025-12-07 19:29:34 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:29:34 [http-nio-8181-exec-7] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:29:34 [http-nio-8181-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=0bqf02kr]
2025-12-07 19:29:34 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:34 [http-nio-8181-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 19:29:34 [http-nio-8181-exec-4] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:34 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:29:34 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed NotificationController.getUserNotifications
2025-12-07 19:29:34 [http-nio-8181-exec-9] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:29:34 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:29:34 [http-nio-8181-exec-4] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed NotificationController.getUserNotifications
2025-12-07 19:29:35 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-1 session=zdjxz4yo
2025-12-07 19:29:35 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=0bqf02kr
2025-12-07 19:29:35 [ws-task-scheduler-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /user/test/notifications id=sub-0 session=0bqf02kr
2025-12-07 19:29:36 [ws-task-scheduler-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private id=sub-1 session=0bqf02kr
2025-12-07 19:29:36 [ws-task-scheduler-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing SUBSCRIBE /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private id=sub-2 session=0bqf02kr
2025-12-07 19:29:38 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [jwf4dojd]
2025-12-07 19:29:40 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:40 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:29:40 [http-nio-8181-exec-10] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:29:40 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:29:40 [http-nio-8181-exec-2] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:40 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getUserChats
2025-12-07 19:29:40 [http-nio-8181-exec-2] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: test
2025-12-07 19:29:40 [http-nio-8181-exec-2] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getUserChats
2025-12-07 19:29:40 [http-nio-8181-exec-1] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:29:40 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed ChatController.getChatMessages
2025-12-07 19:29:40 [http-nio-8181-exec-1] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: test
2025-12-07 19:29:40 [http-nio-8181-exec-1] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed ChatController.getChatMessages
2025-12-07 19:29:40 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:40 [http-nio-8181-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110580889
2025-12-07 19:29:40 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:40 [http-nio-8181-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110580888
2025-12-07 19:29:40 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:40 [http-nio-8181-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/108/fertqter/websocket
2025-12-07 19:29:40 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=fertqter]
2025-12-07 19:29:40 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=fertqter
2025-12-07 19:29:43 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:43 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:29:43 [http-nio-8181-exec-3] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:29:43 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:29:43 [http-nio-8181-exec-6] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:43 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getUserChats
2025-12-07 19:29:43 [http-nio-8181-exec-6] DEBUG com.nix.controller.ChatController [user:] - Getting chats for user: Admin
2025-12-07 19:29:43 [http-nio-8181-exec-6] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getUserChats
2025-12-07 19:29:43 [http-nio-8181-exec-5] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:43 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.getChatMessages
2025-12-07 19:29:43 [http-nio-8181-exec-5] DEBUG com.nix.controller.ChatController [user:] - Getting chat messages for user: Admin
2025-12-07 19:29:43 [http-nio-8181-exec-5] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.getChatMessages
2025-12-07 19:29:43 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:43 [http-nio-8181-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110583761
2025-12-07 19:29:43 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:43 [http-nio-8181-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/info?t=1765110583761
2025-12-07 19:29:43 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping [user:] - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4f8a6629
2025-12-07 19:29:43 [http-nio-8181-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Processing transport request: GET http://localhost:8181/ws/680/z5t0uw4y/websocket
2025-12-07 19:29:43 [http-nio-8181-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - New WebSocketServerSockJsSession[id=z5t0uw4y]
2025-12-07 19:29:43 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing CONNECT session=z5t0uw4y
2025-12-07 19:29:54 [http-nio-8181-exec-9] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:29:54 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.createMessage
2025-12-07 19:29:54 [http-nio-8181-exec-9] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.createMessage
2025-12-07 19:29:54 [ws-task-scheduler-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=z5t0uw4y, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:29:54 [ws-task-scheduler-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:29:54 [ws-task-scheduler-9] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:29:54 [ws-task-scheduler-9] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:29:54 [ws-task-scheduler-9] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='heyyyy', senderId=6908d006-9969-4398-8a14-443ec19da5f3, receiverId=6908d006-9969-4398-8a14-443ec19da5f3}
2025-12-07 19:29:54 [ws-task-scheduler-9] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:29:54 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"6908d...(truncated)
2025-12-07 19:29:54 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:29:54 [ws-task-scheduler-9] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:29:54 [ws-task-scheduler-9] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:30:03 [http-nio-8181-exec-10] DEBUG com.nix.config.JwtValidator [user:] - User with email: tanlmht859a@gmail.com has role: ADMIN (from database)
2025-12-07 19:30:03 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com accessed ChatController.createMessage
2025-12-07 19:30:03 [http-nio-8181-exec-10] INFO  com.nix.config.LoggingAspect [user:] - User=tanlmht859a@gmail.com completed ChatController.createMessage
2025-12-07 19:30:03 [ws-task-scheduler-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43 session=z5t0uw4y, lookupDestination='/chat/57b2e14f-f466-4b15-ab46-ef4eca65fd43'
2025-12-07 19:30:03 [ws-task-scheduler-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:30:03 [ws-task-scheduler-1] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:30:03 [ws-task-scheduler-1] INFO  com.nix.controller.ChatController [user:] - Received groupId: 57b2e14f-f466-4b15-ab46-ef4eca65fd43
2025-12-07 19:30:03 [ws-task-scheduler-1] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='helllooooooooooo', senderId=6908d006-9969-4398-8a14-443ec19da5f3, receiverId=6908d006-9969-4398-8a14-443ec19da5f3}
2025-12-07 19:30:03 [ws-task-scheduler-1] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:30:03 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private session=null payload={"id":null,"chatId":"57b2e14f-f466-4b15-ab46-ef4eca65fd43","sender":{"id":"6908d...(truncated)
2025-12-07 19:30:03 [ws-task-scheduler-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 2 sessions.
2025-12-07 19:30:03 [ws-task-scheduler-1] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/57b2e14f-f466-4b15-ab46-ef4eca65fd43/private
2025-12-07 19:30:03 [ws-task-scheduler-1] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:30:10 [http-nio-8181-exec-3] DEBUG com.nix.config.JwtValidator [user:] - User with email: testnixomg123@gmail.com has role: USER (from database)
2025-12-07 19:30:10 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com accessed ChatController.createMessage
2025-12-07 19:30:10 [http-nio-8181-exec-3] INFO  com.nix.config.LoggingAspect [user:] - User=testnixomg123@gmail.com completed ChatController.createMessage
2025-12-07 19:30:10 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Searching methods to handle SEND /app/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409 session=f2nmlpcj, lookupDestination='/chat/86b2a924-1be3-4dc5-9b78-eb542d7ca409'
2025-12-07 19:30:10 [ws-task-scheduler-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler [user:] - Invoking ChatController#sendToUser[2 args]
2025-12-07 19:30:10 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous accessed ChatController.sendToUser
2025-12-07 19:30:10 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received groupId: 86b2a924-1be3-4dc5-9b78-eb542d7ca409
2025-12-07 19:30:10 [ws-task-scheduler-4] INFO  com.nix.controller.ChatController [user:] - Received MessageDTO: MessageDTO{id=null, content='hey', senderId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93, receiverId=0fca6acf-049d-4aa7-a85a-baf5f1b13b93}
2025-12-07 19:30:10 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Sending message to destination: /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:30:10 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing MESSAGE destination=/group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private session=null payload={"id":null,"chatId":"86b2a924-1be3-4dc5-9b78-eb542d7ca409","sender":{"id":"0fca6...(truncated)
2025-12-07 19:30:10 [ws-task-scheduler-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Broadcasting to 1 sessions.
2025-12-07 19:30:10 [ws-task-scheduler-4] DEBUG com.nix.controller.ChatController [user:] - Message successfully sent to /group/86b2a924-1be3-4dc5-9b78-eb542d7ca409/private
2025-12-07 19:30:10 [ws-task-scheduler-4] INFO  com.nix.config.LoggingAspect [user:] - User=anonymous completed ChatController.sendToUser
2025-12-07 19:30:17 [ws-task-scheduler-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT receipt=close-0 session=fertqter
2025-12-07 19:30:18 [http-nio-8181-exec-8] DEBUG com.nix.config.JwtValidator [user:] - User with email: 21110852@student.hcmute.edu.vn has role: USER (from database)
2025-12-07 19:30:18 [http-nio-8181-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [user:] - Resolved [org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: An established connection was aborted by the software in your host machine]
2025-12-07 19:30:18 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn accessed BookController.getFeaturedBooks
2025-12-07 19:30:18 [http-nio-8181-exec-8] INFO  com.nix.config.LoggingAspect [user:] - User=21110852@student.hcmute.edu.vn completed BookController.getFeaturedBooks
2025-12-07 19:30:18 [http-nio-8181-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=fertqter] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:30:18 [http-nio-8181-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session fertqter
2025-12-07 19:30:18 [ws-task-scheduler-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=fertqter
2025-12-07 19:30:18 [ws-task-scheduler-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=fertqter}], simpSessionId=fertqter}]
2025-12-07 19:30:23 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService [user:] - Closed 1 sessions: [fertqter]
2025-12-07 19:30:49 [http-nio-8181-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=z5t0uw4y] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:30:49 [http-nio-8181-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session z5t0uw4y
2025-12-07 19:30:49 [http-nio-8181-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=zdjxz4yo] closed with CloseStatus[code=1000, reason=null]
2025-12-07 19:30:49 [ws-task-scheduler-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=z5t0uw4y
2025-12-07 19:30:49 [http-nio-8181-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session zdjxz4yo
2025-12-07 19:30:49 [ws-task-scheduler-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=z5t0uw4y}], simpSessionId=z5t0uw4y}]
2025-12-07 19:30:49 [ws-task-scheduler-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=zdjxz4yo
2025-12-07 19:30:49 [ws-task-scheduler-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=zdjxz4yo}], simpSessionId=zdjxz4yo}]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session f2nmlpcj with CloseStatus[code=1001, reason=null]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=1c2ce6e8-1db6-4b02-9136-e0e19abed84b, uri=ws://localhost:8181/ws/375/f2nmlpcj/websocket]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=f2nmlpcj] closed with CloseStatus[code=1001, reason=null]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session f2nmlpcj
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=f2nmlpcj
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session 0bqf02kr with CloseStatus[code=1001, reason=null]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=3c7a2bf4-ac91-e81a-2700-53e40b05c400, uri=ws://localhost:8181/ws/626/0bqf02kr/websocket]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=0bqf02kr] closed with CloseStatus[code=1001, reason=null]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session 0bqf02kr
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=0bqf02kr
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession [user:] - Closing SockJS session mmkkt4a5 with CloseStatus[code=1001, reason=null]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession [user:] - Closing StandardWebSocketSession[id=ed541819-c9b9-6137-cde5-d59390a2323c, uri=ws://localhost:8181/ws/325/mmkkt4a5/websocket]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator [user:] - WebSocketServerSockJsSession[id=mmkkt4a5] closed with CloseStatus[code=1001, reason=null]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler [user:] - Clearing session mmkkt4a5
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Processing DISCONNECT session=mmkkt4a5
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopping...
2025-12-07 19:30:54 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16f40be6]]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16f40be6]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16f40be6]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler [user:] - Stopped.
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:30:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel [user:] - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-12-07 19:30:55 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [user:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-07 19:30:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-4 - Shutdown initiated...
2025-12-07 19:30:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [user:] - HikariPool-4 - Shutdown completed.
